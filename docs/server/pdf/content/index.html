<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex">
    <title>
      
        
          Yamcs
        
      
    </title>
    <link rel="stylesheet" href="/css/print2.css">
    <link rel="stylesheet" href="/css/print.css">
    <link rel="canonical" href="https://www.yamcs.org/docs/server/pdf/content/">
  </head>

  <body>
    <div id="content">
      <div class="container">
        <div class="main">
          
            <h1 class="toc">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Introduction
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                <p>Yamcs Server, or short Yamcs, is a central component for monitoring and controlling remote devices. Yamcs stores and processes packets, and provides an interface for end-user applications to subscribe to realtime or archived data. Typical use cases for such applications include telemetry displays and commanding tools.</p>

<p><img src="/assets/server/typical-deployment.png" alt="Typical Deployment" class="center-image" /></p>

<p>Yamcs ships with an embedded web server for administering the server, the mission databases or for basic monitoring tasks. For more advanced requirements, Yamcs exposes its functionality over a well-documented HTTP-based API.</p>

<p>Yamcs is implemented entirely in Java, but it does rely on an external storage engine for actual data archiving. Currently the storage engine is <a href="http://rocksdb.org/">RocksDB</a>. The preferred target platform is linux x64, but Yamcs can also be made to run on Mac OS X and Windows.</p>

<p>While Yamcs binaries are typically used to run the Yamcs Server, they can also be useful as a library for reusable tasks such as processing of packet telemetry according to XTCE definitions. This manual describes how to use Yamcs as a server. If you want to use it for other purposes, please contact the developers at <a href="https://groups.google.com/forum/#!forum/yamcs">Yamcs mailing list</a>.</p>

                

            
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc">
                      
                        Monitoring and Control Model
                      
                    </h2>
                    <p>Yamcs implements a fairly traditional Monitoring and Control Model. The remote system is represented through a set of <strong>parameters</strong> which are sampled at regular intervals.<br />
Yamcs assumes that parameters are not sent individually but in groups which usually (but not necessarily) are some sort of binary packets. Yamcs supports basic parameter types (int, long, float, double, boolean, timestamp, string, binary) but not yet aggregate types (aka structs in C language) - for example to represent an (x,y,z) position. Yamcs does preserve the association between parameters coming in the same group, which helps alleviating the problem of missing aggregates.</p>

<p>Parameters can either be received directly from the remote device or can be computed locally by <strong>algorithms</strong>. Algorithms in Yamcs can be implemented in Javascript or Python. Other languages that have JVM (Java Virtual Machine) based implementations could also be supported without too much trouble.</p>

<p>Following the XTCE standard, Yamcs distinguishes between <strong>telemetered parameters</strong> (= coming from remote devices), <strong>derived</strong> parameters (= computed by algorithms inside Yamcs), <strong>local</strong> parameters (= set by end-user applications) and <strong>constant parameters</strong> (which are just constant values defined in the mission database). In addition to these XTCE inspired parameter types, Yamcs defines <strong>system parameters</strong> (parameters generated by components inside Yamcs), <strong>command</strong> and <strong>command history parameters</strong>. The last two are specially scoped parameters that can be used in the context of command verifiers.</p>

<p>The parameters have limits associated to them and when those limits are exceeded, an <strong>alarm</strong> is triggered. The limits can change depending on the <strong>context</strong> which represent the state of the remote device. The context itself is derived from the value of other parameters.</p>

<p>An operator is informed of the triggered alarm in various ways depending on the end user application connected to Yamcs (e.g. red background in a display, audible alarm, sms, phone call, etc). After understanding the problem, the operator <strong>acknowledges</strong> the alarm, which means that it informs Yamcs that the alarm will be taken care of. This action - depending again on the remote end user application connected to Yamcs - means that other operators are not bothered anymore by the alarm. <br />
After the alarm has been acknowledged and the parameter goes back into limits, the alarm is <strong>cleared</strong> which means it is not triggered anymore.<br />
Before the alarm is acknowledged by an operator, it will stay triggered even if the parameter goes back into limits. An exception to this case is auto-acknowledging alarms which are cleared automatically when the parameter that triggered them goes back in limits.</p>

<p>As the parameters are supposed to be sampled regularely, they also have an expiration time. After the time is exceeded, the parameters become expired - that is to say at that time the state of the remote device is considered unknown.</p>

<p>The remote device is controlled through the use of <strong>(tele)-commands</strong>. A telecommand is made up by a name and a number of <strong>command arguments</strong>. In order for a command to be allowed to be sent, the <strong>command transmission constraints</strong> (if any) have to be met. The constraints are expressed by the state of parameters (e.g. a command can be send only if a subsystem is switched on). Some commands can have an elevated <strong>significance</strong>, which may mean that a special privilege or an extra confirmation is required to send the command.
Once the command has been sent, it passes throguh a series of execution stages. XTCE pre-defines a series of stages (TransferredToRange, SentFromRange, Received, Accepted, etc). Yamcs does not enforce the use of these predefined stages, the user is free to choose any number of random stages. Each stage has associated a <strong>command verifier</strong> - this is an algorithm that will decide if the command has passed or not that stage. It is also possible to specify that the stage has been passed when a specific packet has been received.</p>

<p>The command text (command name and argument values), the binary packet (if binary formatted) and the different stages of the execution of the command are recorded in the <strong>command history</strong>.
Yamcs does not limit the information that can be added to the command history. This can be extended with and arbitrary number of (key, timestamp, value) attributes.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Fundamentals
                      
                    </h2>
                    <h3 id="mission-database">Mission Database</h3>
<p>The Mission Database is a dictionary containing the description of all the telemetry packets, parameters and commands. Yamcs implements concepts from the XTCE standard (XML Telemetric &amp; Command Exchange). Although this standard specifies how to describe a mission database in XML, it also prescribes a series of building blocks for such a database: SpaceSystens, containers, parameters, commands, algorithms, etc.</p>

<p>In Yamcs we do not have as a primary goal the compliance with the XML representation (although Yamcs does have an XTCE XML loader) but more to the structure and the concepts of an XTCE database.<br />
In fact the primary representation for the mission database in Yamcs is an excel spreadsheet because we noticed that many operators prefer to work with such tool. It is however possible to create database loaders for different formats and it has been done many times in order to be interoperable with other tools (integration is key aspect of Yamcs).</p>

<p><strong>Note:</strong> XTCE is a standard created by many space agencies and thus it contains quite a wide range of features. The standard is also evolving with version 1.2 (not yet public) having many changes from version 1.1. Yamcs does not implement completely the standard, thus we cannot state compliance with a particular version.</p>

<h3 id="instances">Instances</h3>
<p>The Yamcs instances provide means for one Yamcs server to monitor/control different payloads or sattelites or version of the payloads or satellites at the same time. Each instance has a name and a directory where all data from that instance is stored, as well as a specific Mission Database used to process data for that instance. Therefore, each time the Mission Database changes (e.g. due to an on-board software upgrade), a new instance has to be created. One strategy to deal with long duration missions which require multiple instances, is to put the old instances in readonly mode by disabling the components that inject data.</p>

<h3 id="streams">Streams</h3>
<p>The concept of <em>streams</em> was inspired from the domain of Complex Event Processing (CEP) or Stream Processing. Streams are similar to database tables, but represent continuously moving data. SQL-like statements can be defined on streams for filtering, aggregation, merging or other operations. Yamcs uses streams for distributing data between all components running inside the same JVM.</p>

<p>Typically there is a stream for realtime telemetry called <tt>tm_realtime</tt>, one for realtime processed parameters called <tt>pp_realtime</tt>, one for commands called <tt>tc</tt>, etc.</p>

<p>Streams can be made ‘visible’ to the external word by two means:</p>
<ul>
  <li>
    <p>Apache ActiveMQ Artemis wrappers. There are several services that can take data from streams and publish them to Artemis addresses. Unlike the Yamcs streams which are synchronous and lightweight, Artemis addresses are asynchronous and involve more overhead. Care has to be taken with Artemis for not filling up the memory if clients are slow to read messages from the queue.</p>
  </li>
  <li>
    <p>WebSocket subscription. This can be done using the HTTP API documented separately at <a href="https://www.yamcs.org/docs/http/">https://www.yamcs.org/docs/http/</a>.</p>
  </li>
</ul>

<h3 id="processors">Processors</h3>
<p>Yamcs processes TM/TC according to Mission Database definitions. Yamcs supports concurrent processing of parallel streams; one processing context is called <em>Processor</em>. Processors have clients that receive TM and send TC. Typically one Yamcs instance contains one realtime processor processing data coming in realtime and on-request replay processors, processing data from the archive. Internally, Yamcs creates a replay processors for tasks like filling up the <a href="/docs/server/Parameter_Archive">parameter archive</a>.</p>

<p><strong>Processor Clients</strong> are TM monitoring and/or TC commanding applications (Yamcs Studio, USS, MCS Tools).</p>

<h3 id="data-links">Data Links</h3>
<p>Data Links represent special components that communicate with the external world. There are three types of Data Links: TM, TC and PP (processed parameters). TM and PP receive telemetry packets or parameters and inject them into the realtime or dump TM or PP streams. The TC data links subscribe to the realtime TC stream and send data to the external systems.
Data Links can report on their status and can also be controlled by an operator to connect or disconnect from their data source.</p>

<h3 id="data-types">Data Types</h3>

<p>Yamcs supports the following high-level data types:</p>

<ul>
  <li>A <strong>parameter</strong> is a data value corresponding to the observed value of a certain device. Parameters have different properties like Raw Value, Engineering Value, Monitoring status and Validity status. Currently the raw and engineering values must be of scalar types (i.e int, float, string, etc), however in the future arrays and aggregated parameters (analogous to structs in C programming language) will be supported.</li>
  <li>A <strong>processed parameter</strong> (abbreviated PP) is a particular type of parameter that is processed by an external (to Yamcs) entity. Yamcs does not contain information about how they are processed. The processed parameters have to be converted into Yamcs internal format (and therefore compatible with the Yamcs parameter types) in order to be propagated to the monitoring clients.</li>
  <li>A <strong>telemetry packet</strong> is a binary chunk of data containing a number of parameters in raw format. The packets are split into parameters according to the definitions contained in the Mission Database.</li>
  <li><strong>(Tele)commands</strong> are used to control remote devices and are composed of a name and a list of arguments. The commands are transformed into binary packets according to the definition in the Mission Database.</li>
  <li>An <strong>event</strong> is a data type containing a source, type, level and message used by the payload to log certain kind of events. Yamcs generates internally a number of events. In order to extract events from telemetry, a special component called <em>Event Decoder</em> has to be written.</li>
</ul>

<p>The high-level data types described above are modelled internally on a data structure called <em>tuple</em>. A tuple is a list of (name, value) pairs, where the names are simple strings and the values being of a few predefined basic data types. The exact definition of the Yamcs high-level data types in terms of tuple (e.g. a telemetry packet has the attributes gentime(timestamp), rectime(timestamp), packet(binary), etc) is currently hard-coded inside the java source code. In the future it might be externalised in configuration files to allow a certain degree of customisation.</p>

<h3 id="services">Services</h3>
<p>Yamcs functionality is modularised into different services, representing objects with operational state, with methods to start and stop. Yamcs acts as a container for services, each running in a different thread. Services carry out a specific function. Some services are vital to core functionality, others can be thought of as more optional and give Yamcs its pluggable nature.</p>

<p>Services appear at three different conceptual levels:</p>

<ol>
  <li><strong>Global services</strong> provide functionality across all instances.</li>
  <li><strong>Instance services</strong> provide functionality for one specific instance.</li>
  <li><strong>Processor services</strong> provide functionality for one specific processor.</li>
</ol>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Installation
                      
                    </h2>
                    <h3 id="prerequisites">Prerequisites</h3>

<p>Yamcs Server runs on 64-bit Linux.</p>

<table class="inline">
    <tr>
        <th>RAM</th>
        <td>&gt;= 1Gb</td>
    </tr>
    <tr>
        <th>HD</th>
        <td>&gt;= 500Gb (dependent on amount of data archived)</td>
    </tr>
    <tr>
        <th>Java Runtime Environment (JRE)</th>
        <td>&gt;= version 1.8</td>
    </tr>	
</table>

<h3 id="install-manually">Install Manually</h3>

<p>Yamcs Server software is packaged in RPM format. To install:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rpm -U yamcs-version.noarch.rpm
</code></pre></div></div>

<p>This command also works for upgrading. If a configuration file (in the <tt>etc</tt> directory) has been updated with regard to the previous installed version, the old files will be saved with the extension <tt>.rpmsave</tt>. The user then has to inspect the difference between the two versions and to implement the newly added options into the old configuration files.</p>

<p>To uninstall Yamcs Server use:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ rpm -e yamcs
</code></pre></div></div>

<p>Note that this will also remove the <tt>yamcs</tt> user.</p>

<h3 id="install-from-repository">Install from Repository</h3>

<p>Yamcs Server packages are distributed via yum and APT. Configure the Yamcs repository appropriate to your distribution following the <a href="/downloads/">repository instructions</a>.</p>

<h4 id="rpm-rhel-fedora-centos">RPM (RHEL, Fedora, CentOS)</h4>

<p>Install via <tt>dnf</tt> (or <tt>yum</tt> on older distributions)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ dnf check-update
$ sudo dnf install yamcs
</code></pre></div></div>

<h4 id="rpm-sle-opensuse">RPM (SLE, openSUSE)</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo zypper refresh
$ sudo zypper install yamcs
</code></pre></div></div>

<!--
#### APT (Debian, Ubuntu)

    $ sudo apt-get update
    $ sudo apt-get install yamcs
-->

<h3 id="file-layout">File Layout</h3>

<p>After installing the rpms, the following directories are created under <tt>/opt/yamcs</tt>:</p>

<table class="inline">
    <tr>
        <th class="code">bin</th>
        <td>Contains shell scripts for starting the different programs</td>
    </tr>
    <tr>
        <th class="code">cache</th>
        <td>Contains cached serialized java files for the Mission Database. This has to be writable by the user <tt>yamcs</tt></td>
    </tr>
    <tr>
        <th class="code">etc</th>
        <td>Contains all the configuration files</td>
    </tr>
    <tr>
        <th class="code">lib</th>
        <td>Contains the jars required by Yamcs. <tt>lib/ext</tt> is where extensions reside</td>
    </tr>
    <tr>
        <th class="code">log</th>
        <td>Contains the log files of Yamcs. It has to be writable by the user <tt>yamcs</tt></td>
    </tr>
    <tr>
        <th class="code">mdb</th>
        <td>Empty directory where the mission database has to be located.</td>
    </tr>
</table>

<p>In addition to the default Yamcs package, in order to get a running server, the yamcs-simulation rpm can also be installed:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  $ rpm -U yamcs-simulation-version.noarch.rpm
</code></pre></div></div>

<p>This package will provide default configuration files and MDB for running a simple simulation of a UAV.</p>

<p>In addition to the directories mentioned above, yamcs also uses <tt>/storage/yamcs-data</tt> to store the data (telemetry, telecomand, event archive). This directory has to be writable by the user <tt>yamcs</tt>. The location of the data directory can be changed by editing <tt>/opt/yamcs/etc/yamcs.yaml</tt></p>

<p>In addition to the default Yamcs package, there are other proprietary extensions. For example:</p>

<ul>
  <li>
    <p><tt>yamcs-cdmcs</tt>
  Provides loading of TM/TC directly from CD-MCS MDB or from SCOE files (only TM) and also provides the CORBA (CIS) protocol for communicating with USS and MCS Tools</p>
  </li>
  <li>
    <p><tt>yamcs-dass</tt>
  Provides TM/TC receivers/senders via the DaSS protocol</p>
  </li>
  <li>
    <p><tt>yamcs-spell</tt>
  Provides the modules required to use <a href="https://sourceforge.net/projects/spell-sat/">SPELL</a> with Yamcs. SPELL is a procedure execution environment developed by <a href="www.ses.com">SES</a>.</p>
  </li>
</ul>

<div class="hint">
<p>The extensions are not part of the Yamcs open-source release. If you are interested in using them, please contact Space Applications Services.</p>
</div>

<h3 id="configuration">Configuration</h3>
<p>Yamcs configuration files are written in YAML format. This format allows to encode in a human friendly way the most common data types: numbers, strings, lists and maps. For detailed syntax rules, please see <a href="https://www.yaml.org">https://www.yaml.org</a>.</p>

<p>The root configuration file is <tt>etc/yamcs.yaml</tt>. It contains a list of Yamcs instances. For each instance, a file called <tt>etc/yamcs.instance-name.yaml</tt> defines all the components that are part of the instance. Depending on which components are selected, different configuration files are needed.</p>

<h3 id="starting-yamcs-server">Starting Yamcs Server</h3>
<p>Normally Yamcs Server should be configured to start automatically on boot via <tt>/etc/init.d/yamcs-server</tt>. The command will automatically run itself as a lower privilege user (username <tt>yamcs</tt>), but must initially be run as root for this to happen. Yamcs Server can be started and stopped as a service via commands such as <tt>service yamcs-server start</tt> and <tt>service yamcs-server stop</tt>. These commands use the init.d script and will run Yamcs as the appropriate user. It is also possible to directly use the script <tt>/opt/yamcs/bin/yamcsd</tt>, but use of the <tt>service</tt> command is preferred.</p>


                    
                    
              
            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Mission Database
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                <p>The Yamcs Mission Database is composed of a hierarchical structure, each node in the hierarchy being an XTCE SpaceSystem. Each SpaceSystem contains the following data:</p>

<ul>
  <li>Telemetry</li>
  <li>Telecommands</li>
  <li>Parameters</li>
  <li>Algorithms</li>
</ul>

<p>For faster access, the database is cached serialized on disk in the cache directory. The cached mission database is composed of two files, one storing the data itself and the other one storing the time when the cache file has been created. These files should be considered Yamcs internal and are subject to change.</p>

<p>Different loaders are possible for each node in the hiearchy. A loader can load a node and its subnodes (but cannot load two parallel nodes).</p>

<pre class="r header">mdb.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">refmdb</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">sheet"</span>
    <span class="na">spec</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mdb/refmdb-ccsds.xls"</span>
    <span class="na">subLoaders</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">sheet"</span>
        <span class="na">spec</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mdb/refmdb-subsys1.xls"</span>

<span class="na">simulator</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">sheet"</span>
    <span class="na">spec</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mdb/simulator-ccsds.xls"</span>
    <span class="na">subLoaders</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">sheet"</span>
        <span class="na">spec</span><span class="pi">:</span> <span class="s2">"</span><span class="s">mdb/simulator-tmtc.xls"</span></code></pre></figure>


                

            
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc">
                      
                        Spreadsheet Loader
                      
                    </h2>
                    <p>The spreadsheet loader loads mission database definitions from excel spreadsheet. Only excel prior to Excel 2007 are supported (.xls files not .xlsx).</p>

<ul id="markdown-toc">
  <li><a href="#multiple-space-systems-support" id="markdown-toc-multiple-space-systems-support">Multiple Space Systems support</a></li>
  <li><a href="#conventions" id="markdown-toc-conventions">Conventions</a></li>
  <li><a href="#rules-for-parameterconainer-reference-lookup" id="markdown-toc-rules-for-parameterconainer-reference-lookup">Rules for parameter/conainer reference lookup</a></li>
  <li><a href="#general-sheet" id="markdown-toc-general-sheet">General Sheet</a></li>
  <li><a href="#containers-sheet" id="markdown-toc-containers-sheet">Containers Sheet</a></li>
  <li><a href="#parameters-sheet" id="markdown-toc-parameters-sheet">Parameters Sheet</a>    <ul>
      <li><a href="#encoding-and-raw-types" id="markdown-toc-encoding-and-raw-types">Encoding and Raw Types</a></li>
      <li><a href="#engineering-types" id="markdown-toc-engineering-types">Engineering Types</a></li>
    </ul>
  </li>
  <li><a href="#calibration-sheet" id="markdown-toc-calibration-sheet">Calibration Sheet</a>    <ul>
      <li><a href="#java-expressions" id="markdown-toc-java-expressions">Java Expressions</a></li>
    </ul>
  </li>
  <li><a href="#algorithms-sheet" id="markdown-toc-algorithms-sheet">Algorithms Sheet</a>    <ul>
      <li><a href="#javascript-algorithms" id="markdown-toc-javascript-algorithms">JavaScript algorithms</a></li>
      <li><a href="#python-algorithms" id="markdown-toc-python-algorithms">Python algorithms</a></li>
      <li><a href="#java-algorithms" id="markdown-toc-java-algorithms">Java algorithms</a></li>
      <li><a href="#command-verifier-algorithms" id="markdown-toc-command-verifier-algorithms">Command verifier algorithms</a></li>
      <li><a href="#data-decoding-algorithms" id="markdown-toc-data-decoding-algorithms">Data Decoding algorithms</a></li>
      <li><a href="#example-definition" id="markdown-toc-example-definition">Example Definition</a></li>
      <li><a href="#example-definition-for-a-command-verifier-algorithm" id="markdown-toc-example-definition-for-a-command-verifier-algorithm">Example Definition for a command verifier algorithm</a></li>
    </ul>
  </li>
  <li><a href="#alarms-sheet" id="markdown-toc-alarms-sheet">Alarms Sheet</a>    <ul>
      <li><a href="#example-definition-1" id="markdown-toc-example-definition-1">Example Definition</a></li>
    </ul>
  </li>
  <li><a href="#commands-sheet" id="markdown-toc-commands-sheet">Commands Sheet</a>    <ul>
      <li><a href="#encoding-and-raw-types-for-command-arguments" id="markdown-toc-encoding-and-raw-types-for-command-arguments">Encoding and Raw Types for command arguments</a></li>
    </ul>
  </li>
  <li><a href="#command-options-sheet" id="markdown-toc-command-options-sheet">Command Options Sheet</a></li>
  <li><a href="#command-verification-sheet" id="markdown-toc-command-verification-sheet">Command Verification Sheet</a></li>
  <li><a href="#change-log-sheet" id="markdown-toc-change-log-sheet">Change Log Sheet</a></li>
</ul>

<h3 id="multiple-space-systems-support">Multiple Space Systems support</h3>
<p>Since version 5.4, the spreadsheet definition supports loading from one Excel file a hierarchy composed of multiple space systems. Until version 5.3 this was only possible by defining multiple Excel files (one per subsystem) and defining the hierarchy in <tt>etc/mdb.yaml</tt>. Also until version 5.3 the loader forced some sheets to always be present (e.g. Containers). From version 5.4 only the General sheet has to be present, all the other ones are optional.</p>

<p>To define the space system hierarchy, the convention is that all the sheets that do not have a prefix contain data for the main space system whose name is defined in the General sheet.
To define data in subsystems, a syntax like  <tt>SYSTEM1|SYSTEM2|Containers</tt> can be used. This definition will create a SYSTEM1 as part of the main space system and a child SYSTEM2 of SYSTEM1. Then the containers will be loaded in SYSTEM2.</p>

<p>The spreadsheet loader scans and creates the subsystem hierarchy and then it loads the data inside the systems traversing the hierarchy in a depht-first order.</p>

<h3 id="conventions">Conventions</h3>

<ul>
  <li>All numeric values can be entered as decimals or as hexadecimals (with prefix <tt>0x</tt>)</li>
  <li>Although column names are used for reference below, columns must not be reordered</li>
</ul>

<p>A number of mandatory named sheets are described as part of this specification, though authors may add their own sheets and still use the spreadsheet file as the reference MDB.</p>

<h3 id="rules-for-parameterconainer-reference-lookup">Rules for parameter/conainer reference lookup</h3>

<p>Each time a name reference is mentioned in the spreadsheet, the following rules apply:</p>
<ul>
  <li>The reference can use UNIX like directory access expressions (../a/b).</li>
  <li>If the name is not found as a qualified parameter, and the option enableAliasReferences is configured for the SpreadsheetLoader, the parameter is looked up through all the aliases of the parent systems.</li>
</ul>
<p>The exact result of the lookup depends of course on the exact tree configuration in mdb.yaml”</p>

<h3 id="general-sheet">General Sheet</h3>
<p>This sheet must be named “General”, and the columns described must not be reordered.</p>

<table class="inline">
	<tr>
		<th>format version</th>
		<td>Used by the loader to ensure a compatible spreadsheet structure</td>
	</tr>
	<tr>
		<th>name</th>
		<td>Name of the MDB</td>
	</tr>
	<tr>
		<th>document version</th>
		<td>Used by the author to track versions in an arbitrary manner</td>
	</tr>	
</table>

<h3 id="containers-sheet">Containers Sheet</h3>
<p>This sheet must be named “Containers”, and the columns described must not be reordered. The sheet contains description of the content of the container (packet). 
As per XTCE, a container is a structure describing a binary chunk of data composed of multiple entries.</p>

<p>A container can inherit from other container - meaning that it takes all entries from the parent and it adds some more. It can have two types of entries:</p>
<ul>
  <li>parameters</li>
  <li>other containers (this is called aggregation)</li>
</ul>

<p>General conventions:</p>

<ul>
  <li>first line with a new ‘container name’ starts a new packet</li>
  <li>second line after a new ‘container name’ should contain the first measurement</li>
  <li>empty lines are only allowed between two packets</li>
</ul>

<p>Comment lines starting with “#” on the first column can appear everywhere and are ignored.</p>

<table class="inline">
	<tr>
		<th>container name</th>
		<td>The relative name of the packet inside the space system</td>
	</tr>
	<tr>
		<th>parent</th>
		<td>Parent container and position in bits where the subcontainer starts, for example  <tt>PARENT_CONTAINER:64</tt>. If position in bits is not specified, the default position is to start from the last parameter in the parent. If parent is not specified, either the container is the root, or it can be used as part of another container in aggregation.</td>
	</tr>
	<tr>
		<th>condition</th>
		<td>Inheritance condition, usually specifies a switch within the parent which activates this child, for example `MID=0x101` There are currently three forms supported:
                 <ul> 
                      <li>Simple condition:  <tt>Parameter==value</tt></li>
                      <li>Condition list:  <tt>Parameter==value;Parameter2==value2</tt> - all conditions must be true</li>
                      <li>Boolean condition: <tt>op(epx1;exp2;...;expn)</tt>
                          <ul>
                            <li>op is '&amp;' (AND) or '|' (OR)</li>
                            <li>expi is a boolean expression or a simple condition</li>
                          </ul>
                      </li>
                  </ul>
                Currently the only supported conditions are on the parameters of the parent container. This cover the usual case where the parent defines a header and the inheritance condition
                is based on paraemters from the header.
               </td>
	</tr>
	
</table>

<h3 id="parameters-sheet">Parameters Sheet</h3>
<p>This sheet must be named ending with “Parameters”, and the columns described must not be reordered. The sheet contains parameter (sometimes called measurements) information.
Any number of sheets ending with “Parameters” can be present and they all have the same structure. Each parameter has a so called “DataSource” (as per XTCE) which is not immediately configured.
However by historical convention:</p>
<ul>
    <li>DerivedParameters contains all parameter whose data source is set to "DERIVED" - these are usually results of algorithm computations.</li>
    <li>LocalParameters contains all parameters whose data source is set to "LOCAL" - these are parameters that can be set by the user using the Yamcs API </li>
    <li>All other parameter sheets contain parameters whose data source is set to "TELEMETERED" - these are parameters received from remote devices </li>
 </ul>

<p>A parameter when extracted from a binary packet has two forms: a raw value and an engineering value. The extraction from the raw packet is performed according to the encoding, whereas the conversion 
from raw to engineering value is performed by a calibrator. This sheet can also be used to specify parameters without encoding - if they are received already extracted, Yamcs can do only their calibration. 
Or it can be that a parameter is already calibrated, it can still be specified here to be able to associate alarms.</p>

<p>Empty lines can appear everywhere and are ignored.
Comment lines starting with “#” on the first column can appear everywhere and are ignored.</p>

<table class="inline">
	<tr>
		<th>name</th>
		<td>The name of the parameter in the namespace.</td>
	</tr>
	<tr>
		<th>encoding</th>
		<td>Description on how to extract the raw type from the binary packet. See <a href="#encoding-and-raw-types"> below</a> for all supported encodings.</td>
	</tr>
	<tr>
		<th>raw type</th>
		<td>See <a href="#encoding-and-raw-types"> below</a> for all supported raw types</td>
	</tr>
	<tr>
		<th>eng type</th>
		<td>See <a href="#engineering-types">Engineering Types</a></td>
	</tr>
	<tr>
		<th>eng unit</th>
		<td>Free-form textual description of unit(s). E.g. degC, W, V, A, s, us</td>
	</tr>
	<tr>
		<th>calibration</th>
		<td>Name of a calibration described in the Calibration sheet, leave empty if no calibration is applied</td>
	</tr>
	<tr>
		<th>description</th>
		<td>Optional human-readable text</td>
	</tr>
	<tr>
                <th>namespace:&lt;NS-NAME&gt;</th>
                <td>If present, these columns can be used to assign additional names to the parameters in the namespace NS-NAME. Any number of columns can be present to give additional names in different namespaces.</td>
        </tr>
</table>

<h4 id="encoding-and-raw-types">Encoding and Raw Types</h4>
<p>Raw types describe how the parameter is encoded in the raw packet. All types are case-insensitive.</p>

<table class="inline">
	<tr>
		<th>Raw Type</th>
		<th>Encoding</th>
		<th>Description</th>
	</tr>
	<tr>
		<td class="code" rowspan="2">uint</td>
		<td class="code">unsigned(&lt;n&amp;gt,&lt;BE|LE&gt;)</td>
		<td>Unsigned integer.
		    <ul>
		       <li>n is size in bits.</li>
		       <li>LE = little endian, BE = big endian.</li>
		    </ul>
		</td>
	</tr>
	<tr>
	       <td class="code">&lt;n&gt;</td>
	       <td> shortcut for <tt>unsigned(&lt;n&gt;,BE)</tt></td>
	</tr>
	
	<tr>
                <td class="code" rowspan="3">int</td>
                <td class="code">twosComplement(&lt;n&gt;, &lt;BE|LE&gt;)</td>
                <td>two's complement encoding
                  <ul>
                       <li>n is size in bits.</li>
                       <li>LE = little endian, BE = big endian.</li>
                    </ul>
                </td>
        </tr>
        <tr>                
                <td class="code">signMagnitude(&lt;n&gt;, &lt;BE|LE&gt;)</td>
                <td>sign magnitude encoding - first (or last for LE) bit is the sign, the remaining bits represent the magnitude (absolute value).
                     <ul>
                       <li>n is size in bits.</li>
                       <li>LE = little endian, BE = big endian.</li>
                    </ul>
                </td>
        </tr>
	<tr>                
                <td class="code">&lt;n&gt;</td>
                <td>shortcut for <tt>twosComplement(&lt;n&gt;,BE)</tt>
                </td>
        </tr>
        
	<tr>
		<td class="code" rowspan="2">float</td>
		<td class="code">ieee754_1985(&lt;n&gt;, &lt;BE|LE&gt;)</td>
		<td>IEE754_1985 encoding
		      <ul>
                       <li>n is size in bits.</li>
                       <li>LE = little endian, BE = big endian.</li>
                    </ul>
                </td>
	</tr>
	<tr>
		<td class="code">&lt;n&gt;</td>
		<td>shortcut for <tt>iee754_1985(&lt;n&gt;,BE)</tt></td>
	</tr>
	<tr>
		<td class="code">boolean</td>
		<td>&lt;empty&gt;</td>
		<td>the encoding has to be empty - 1 bit is assumed.</td>
	</tr>
	<tr>
		<td class="code" rowspan="3">string</td>
		<td class="code">fixed(&lt;n&gt;, &lt;charset&gt;)</td>
		<td>fixed size string
		  <ul>
		    <li> <tt>n</tt> is the size in bits of the string. Only multiple of 8 supported.</li>
                    <li><tt>charset</tt> is one of the <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html">charsets supported by java</a> (UTF-8, ISO-8859-1, etc).<br />    
                    If not specified, it is by default UTF-8</li>
                </ul>
                The string has to start at a byte boundary inside the container.
                </td>
                
	</tr>
	<tr>
		<td class="code">PrependedSize(&lt;x&gt;, &lt;charset&gt;)</td>
		<td>The size of string <b>in bytes</b> is specified in first <tt>x</tt> bits of string - the size itself will not be part of the string.<br />
		  <ul>
		    <li><tt>x</tt> is the size in bits of the size tag</li>
                    <li><tt>charset</tt> is as defined above.<br /></li>
                  </ul>
                  Note that while x can be any number of bits&lt;=32, the string has to start at a byte boundary.
                </td>
	</tr>
	<tr>
		<td class="code">terminated(&lt;0xBB&gt;, &lt;charset&gt;)</td>
		<td>terminated string - pay attention to the parameters following this one; if the terminator is not found all the buffer will be consumed;
		   <ul>
		     <li><tt>0xBB</tt> specifies a byte that is the string terminator</li>
                     <li><tt>charset</tt> is as defined above.</li>
                   </ul>
	       </td>
	</tr>
	<tr>
	        <td class="code" rowspan="3">binary</td>
		<td class="code">fixed(&lt;n&gt;)</td>
		<td>fixed size byte array.
		<ul>
		  <li><tt>n</tt> size of the array in bits. It has to be multiple of 8 and the parameter has to start at a byte boundary.</li>
		</ul>  
	       </td>
	</tr>
	<tr>                
                <td class="code">PrependedSize(&lt;x&gt;)</td>
                <td>byte array whose size in bytes is specified in the first <tt>x</tt> bits of the array - the size itself will not be part of the raw value.
                  <ul>
                    <li><tt>x</tt> is the size in bits of the size tag</li>                   
                  </ul>
                    Note that while x can be any number of bits&lt;=32, the byte array has to start at a byte boundary.
                </td>
        </tr>
        <tr>                
                <td class="code">&lt;n&gt;</td>
                <td>shortcut for fixed(&lt;n&gt;)
                </td>
        </tr>
        <tr>    
                <td>&lt;any of the above&gt;</td>
                <td class="code">custom(&lt;n&gt;,algorithm)</td>
                <td>The decoding will be performed by a user defined algorithm.
                   <ul>
                     <li> &lt;n&gt; is optional and may be used to specify the size in bits of the entry in the container (in case the size is fixed) - it will use for optimizing 
                   the access to the parameters following this one.</li>
                     <li><tt>algorithm</tt> the name of the algorithm - it has to be defined in the <a href="#algorithms-sheet">algorithm sheet</a></li>
                   </ul>
                </td>
        </tr>
</table>

<h4 id="engineering-types">Engineering Types</h4>
<p>Engineering types describe a parameter in its processed form (i.e. after any calibrations). All types are case-insensitive.</p>

<p>Depending on the combination of raw and engineering type, automatic conversion is applicable. For more advanced use cases, define and refer to a Calibrator in the <a href="#calibration-sheet">Calibration Sheet</a></p>

<table class="inline">
	<tr>
		<th>Type</th>
		<th>Description</th>
		<th>Automatic Raw Conversion</th>
	</tr>
	<tr>
		<td class="code">uint</td>
		<td>Unsigned 32 bit integer - it corresponds to <tt>int</tt> in java and <tt>uint32</tt> in protobuf</td>
		<td>From <tt>int</tt>, <tt>uint</tt> or <tt>string</tt></td>
	</tr>
	<tr>
                <td class="code">uint64</td>
                <td>Unsigned 64 bit integer - it corresponds to <tt>long</tt> in java and <tt>uint64</tt> in protobuf</td>
                <td>From <tt>int</tt>, <tt>uint</tt> or <tt>string</tt></td>
        </tr>
	<tr>
		<td class="code">int</td>
		<td>Signed 32 bit integer - it corresponds to <tt>int</tt> in java and <tt>int32</tt> in protobuf</td>
		<td>From <tt>int</tt>, <tt>uint</tt> or <tt>string</tt></td>
	</tr>
	<tr>
                <td class="code">int64</td>
                <td>Signed 64 bit integer - it corresponds to <tt>long</tt> in java and <tt>int64</tt> in protobuf</td>
                <td>From <tt>int</tt>, <tt>uint</tt> or <tt>string</tt></td>
        </tr>
	<tr>
		<td class="code">string</td>
		<td>Character string - it corresponds to <tt>String</tt> in java and <tt>string</tt> in protobuf</td>
		<td>From <tt>string</tt></td>
	</tr>
	<tr>
		<td class="code">float</td>
		<td>32 bit floating point number - it corresponds to <tt>float</tt> in java and protobuf</td>
		<td>From <tt>float</tt>, <tt>int</tt>, <tt>uint</tt> or <tt>string</tt></td>
	</tr>
	<tr>
                <td class="code">double</td>
                <td>62 bit floating point number - it corresponds to <tt>double</tt> in java and protobuf</td>
                <td>From <tt>float</tt>, <tt>int</tt>, <tt>uint</tt> or <tt>string</tt></td>
        </tr>
	<tr>
		<td class="code">enumerated</td>
		<td>
			A kind of string that can only be one out of a fixed set of predefined state values. It corrersponds to <tt>String</tt> in java and <tt>string</tt> in protobuf.
		</td>
		<td>
        	From <tt>int</tt> or <tt>uint</tt>. A Calibrator is required.
		</td>
	</tr>
	
	<tr>
		<td class="code">boolean</td>
		<td>A binary true/false value - it corresponds to 'boolean' in java and 'bool' in protobuf</td>
		<td>
			<p>From any raw type</p>
			<p>Values equal to zero, all-zero bytes or an empty string are considered <em>false</em></p>
		</td>
	</tr>
	<tr>
		<td class="code">binary</td>
		<td>Byte array - it corresponds to <tt>byte[]</tt> in java and <tt>bytes</tt> in protobuf.</td>
		<td>From <tt>bytestream</tt> only</td>
	</tr>
</table>

<h3 id="calibration-sheet">Calibration Sheet</h3>
<p>This sheet must be named “Calibration”, and the columns described must not be reordered. The sheet contains calibration data including enumerations.</p>

<table class="inline">
	<tr>
		<th>calibrator name</th>
		<td>Name of the calibration - it has to match the calibration column in the Parameter sheet.</td>
	</tr>
	<tr>
		<th>type</th>
		<td> One of the following:
			<ul>
				<li><tt>polynomial</tt> for polynomial calibration.  Note that the polynomial calibration is performed with double precision
				floating point numbers even though the input and/or output may be 32 bit. </li>
				<li><tt>spline</tt> for linear spline(pointpair) interpolation. As for the polynomial, the computation is performed with double precision numbers.</li>				
				<li><tt>enumeration</tt> for mapping enumeration states</li>
				<li><tt>java-expression</tt> for writing more complex functions</li>
			</ul>
		</td>
	</tr>
	<tr>
		<th>calib1</th>
		<td>
			<ul>
				<li>If the type is <tt>polynomial</tt>: it list the coefficients, one per row starting with the constant and up to the highest grade. There is no limit in the number of coefficients (i.e. order of polynomial).</li>
				<li>If the type is <tt>spline</tt>: start point (x from (x,y) pair)</li>
				<li>If the type is <tt>enumeration</tt>: numeric value</li>
				<li>If the type is <tt>java-expression</tt>: the textual formula to be executed (see below)</li>
			</ul>
		</td>
	</tr>
	<tr>
		<th>calib2</th>
		<td>
			<ul>
				<li>If the type is <tt>polynomial</tt>: leave <em>empty</em></li>
				<li>If the type is <tt>spline</tt>: stop point (y) corresponding to the start point(x) in <tt>calib1</tt></li>				
				<li>If the type is <tt>enumeration</tt>: text state corresponding to the numeric value in <tt>calib1</tt></li>
				<li>If the type is <tt>java-expression</tt>: leave <em>empty</em></li>
			</ul>
		</td>
	</tr>
</table>

<h4 id="java-expressions">Java Expressions</h4>
<p>This is intended as a catch-all case. XTCE specifies a MathOperationCalibration calibrator that is not implemented in Yamcs. However these expressions can be used for the same purpose.
They can be used for float or integer calibrations.</p>

<p>The expression appearing in the <em>calib1</em> column will be enclosed and compiled into a class like this:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">yamcs</span><span class="o">.</span><span class="na">xtceproc</span><span class="o">.</span><span class="na">jecf</span><span class="o">;</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Expression665372494</span> <span class="kd">implements</span> <span class="n">org</span><span class="o">.</span><span class="na">yamcs</span><span class="o">.</span><span class="na">xtceproc</span><span class="o">.</span><span class="na">CalibratorProc</span> <span class="o">{</span>
   <span class="kd">public</span> <span class="kt">double</span> <span class="nf">calibrate</span><span class="o">(</span><span class="kt">double</span> <span class="n">rv</span><span class="o">)</span> <span class="o">{</span>
       <span class="k">return</span> <span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;;</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The expression has usually to return a double; but java will convert implicitly any other primitive type to a double.</p>

<p>Java statements cannot be used but the conditional operator “? :” can be used; for example this expression would compile fine:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">rv</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="n">rv</span><span class="o">+</span><span class="mi">5</span><span class="o">:</span><span class="n">rv</span><span class="o">-</span><span class="mi">5</span>
</code></pre></div></div>

<p>Static functions can be also referenced. In addition to the usual Java ones (e.g. Math.sin, Math.log, etc) user own functions (that can be found as part of a jar on the server in the lib/ext directory) can be referenced by specifying the full class name:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">my</span><span class="o">.</span><span class="na">very</span><span class="o">.</span><span class="na">complicated</span><span class="o">.</span><span class="na">calibrator</span><span class="o">.</span><span class="na">Execute</span><span class="o">(</span><span class="n">rv</span><span class="o">)</span>
</code></pre></div></div>

<h3 id="algorithms-sheet">Algorithms Sheet</h3>
<p>This sheet must be named “Algorithms”, and the columns described must not be reordered. The sheet contains arbitrarily complex user algorithms that can set (derived) output parameters based on any number of input parameters.</p>

<p>Comment lines starting with “#” on the first column can appear everywhere and are ignored.
Empty lines are used to separate algorithms and cannot be used inside the specification of one algorithm.</p>

<table class="inline">
	<tr>
		<th>algorithm name</th>
		<td>The identifying name of the algorithm.</td>
	</tr>
	<tr>
                <th>algorithm language</th>
                <td>The programming language of the algorithm. Currently supported values are:
                   <ul>
                     <li>JavaScript</li>
                     <li>python - note that this requires the presence of jython.jar in the Yamcs lib or lib/ext directory (it is not delivered together with Yamcs).</li>
                     <li>Java</li>
                     </ul>
                </td>
        </tr>
	<tr>
		<th>text</th>
		<td>The code of the algorithm (see below for how this is interpreted).</td>
	</tr>
	<tr>
		<th>trigger</th>
		<td>
			Optionally specify when the algorithm should trigger:
			<ul>
				<li><tt>OnParameterUpdate('/some-param', 'some-other-param')</tt><br />Execute the algorithm whenever <em>any</em> of the specified parameters are updated</li>
				<li><tt>OnInputParameterUpdate</tt><br />This is the same as above for all input parameters (i.e. execute whenever <em>any</em> input parameter is updated).</li>
				<li><tt>OnPeriodicRate(&lt;fireRate&gt;)</tt><br />Execute the algorithm every <tt>fireRate</tt> milliseconds</li>
				<li><tt>none</tt><br />The algorithm doesn't trigger automatically but can be called upon from other parts of the system (like the command verifier)</li>
			</ul>
			The default is none.
		</td>
	</tr>
	
	<tr>
		<th>in/out</th>
		<td>Whether a parameter is inputted to, or outputted from the algorithm. Parameters are defined, one per line, following the line defining the algorithm name</td>
	</tr>
	<tr>
		<th>parameter reference</th>
		<td>
			<p>Reference name of a parameter. See above on how this reference is resolved.</p>
			<p>Algorithms can be interdependent, meaning that the output parameters of one algorithm could be used as input parameters of another algorithm.</p>
		</td>
	</tr>
	<tr>
		<th>instance</th>
		<td>
			<p>Allows inputting a specific instance of a parameter. At this stage, only values smaller than or equal to zero are allowed. A negative value, means going back in time. Zero is the default and means the actual value. This functionality allows for time-based window operations over multiple packets. Algorithms with windowed parameters will only trigger as soon as all of those parameters have all instances defined (i.e. when the windows are full).</p>
			<p>Note that this column should be left empty for output parameters.</p>
		</td>
	</tr>
	<tr>
		<th>name used in the algorithm</th>
		<td>
			<p>An optional friendlier name for use in the algorithm. By default the parameter name will be used, which may lead to runtime errors depending on the naming conventions of the applicable script language.</p>
			<p>Note that a unique name will be required in this column, when multiple instances of the same parameter are inputted.</p>
		</td>
	</tr>
</table>

<h4 id="javascript-algorithms">JavaScript algorithms</h4>
<p>A full function body is expected. The body will be encapsulated in a javascript function like</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">algorithm_name</span><span class="p">(</span><span class="nx">in_1</span><span class="p">,</span> <span class="nx">in_2</span><span class="p">,</span> <span class="p">...,</span> <span class="nx">out_1</span><span class="p">,</span> <span class="nx">out_2</span><span class="p">...)</span> <span class="p">{</span>
   <span class="o">&lt;</span><span class="nx">algorithm</span><span class="o">-</span><span class="nx">text</span><span class="o">&gt;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>The <tt>in_n</tt> and <tt>outX</tt> are to be names given in the spreadsheet column <em>name used in the algorithm</em>.</p>

<p>The method can make use of the input variables and assign out_x.value (this is the engineering value) or out_x.rawValue (this is the raw value) and out_x.updated for each output variable.
The <out>.updated can be set to false to indicate that the output value has not to be further processed even if the algorithm has run.
By default it is true - meaning that each time the algorithm is run, it is assumed that it updates all the output variables.</out></p>

<p>If out_x.rawValue is set and out_x.value is not, then Yamcs will run a calibration to compute the engineering value.</p>

<p>Note that for some algorithms (e.g. command verifiers) need to return a value (rather</p>

<h4 id="python-algorithms">Python algorithms</h4>
<p>This works very similarly with the JavaScript algorithms, The thing to pay attention is the indentation. The algorithm text wihch is specified in the spreadsheet will be automatically indeted with 4 characters.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">function</span> <span class="n">algorithm_name</span><span class="p">(</span><span class="n">in_1</span><span class="p">,</span> <span class="n">in_2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">out_1</span><span class="p">,</span> <span class="n">out_2</span><span class="o">...</span><span class="p">)</span> <span class="p">{</span>
   <span class="o">&lt;</span><span class="n">algorithm</span><span class="o">-</span><span class="n">text</span><span class="o">&gt;</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="java-algorithms">Java algorithms</h4>
<p>The algorithm text  is a class name with optionally parantheses enclosed string that is parsed into an object by an yaml parser.
Yamcs will try to locate the given class who must be implementing the org.yamcs.algorithms.AlgorithmExecutor interface and will create an object with a constructor with three paramethers:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">Constructor</span><span class="o">&gt;(</span><span class="n">Algorithm</span><span class="o">,</span> <span class="n">AlgorithmExecutionContext</span><span class="o">,</span> <span class="n">Object</span> <span class="n">arg</span><span class="o">)</span> 
</code></pre></div></div>

<p>where <tt>arg</tt> is the argument parsed from the yaml.</p>

<p>If the optional argument is not present in the algorithm text definition,  then the class constructor  should only have two parameters.
The abstract class <tt>org.yamcs.algorithms.AbstractAlgorithmExecutor</tt> offers some helper methods and can be used as base class for implementation of such algorithm.</p>

<p>If the algorithm is used for data decoding, it has to implement the <tt>org.yamcs.xtceproc.DataDecoder</tt> interface instead (see below).</p>

<h4 id="command-verifier-algorithms">Command verifier algorithms</h4>
<p>Command verifier algorithms are special algorithms associated to the command verifiers. Multiple instances of the same algorithm may execute in parallel if there are multiple pending commands executed in parallel.</p>

<p>These algorithms are special as they can use as input variables not only parameters but also command arguments and command history events. These are specified by using “/yamcs/cmd/arg/” and “/yamcs/cmdHist” prefix respectively.</p>

<p>In addition these algorithms may return a boolean value (whereas the normal algorithms only have to write to output variables). The returned value is used to indicate if the verifier has succeeded or failed. No return value will mean that the verifier is still pending.</p>

<h4 id="data-decoding-algorithms">Data Decoding algorithms</h4>
<p>The Data Decoding algorithms are used to extract a raw value from a binary buffer. 
These algorithms do not produce any output and are triggered whenever the parameter has to be extracted from a container.</p>

<p>These algorithms work differently from the other ones and have are some limitations:</p>
<ul>
 <li> only Java is supported as a language</li>
 <li> not possible to specify input parameters</li>
</ul>

<p>These algorithms have to implement the interface org.yamcs.xtceproc.DataDecoder.</p>

<h4 id="example-definition">Example Definition</h4>

<table class="inline small-contents">
	<tr>
		<th>algo name</th>
		<th>language</th>
		<th>text</th>
		<th>trigger</th>
		<th>in/out</th>
		<th>param name</th>
		<th>instance</th>
		<th>friendly<br />name</th>
	</tr>
	<tr>
		<td class="code">my_avg</td>
		<td class="code">JavaScript</td>
		<td class="code">r.value = (a.value + b.value + c.value) / 3;</td>
		<td class="code">OnInputParameterUpdate</td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
	</tr>
	<tr>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code">in</td>
		<td class="code">/MY_SS/some_temperature</td>
		<td class="code">-2</td>
		<td class="code">a</td>
	</tr>
	<tr>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code">in</td>
		<td class="code">/MY_SS/some_temperature</td>
		<td class="code">-1</td>
		<td class="code">b</td>
	</tr>
	<tr>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code">in</td>
		<td class="code">/MY_SS/some_temperature</td>
		<td class="code">0</td>
		<td class="code">c</td>
	</tr>
	<tr>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code">out</td>
		<td class="code">/MY_SS/avg_out</td>
		<td class="code"></td>
		<td class="code">r</td>
	</tr>
</table>

<h4 id="example-definition-for-a-command-verifier-algorithm">Example Definition for a command verifier algorithm</h4>

<table class="inline small-contents">
        <tr>
                <th>algo name</th>
                <th>language</th>
                <th>text</th>
                <th>trigger</th>
                <th>in/out</th>
                <th>param name</th>
                <th>instance</th>
                <th>friendly<br />name</th>
        </tr>
        <tr>
                <td class="code">alg_verif_completed</td>
                <td class="code">JavaScript</td>
                <td class="code">if((receivedCmdId.value==sentCmdId.value) &amp;&amp; (receivedSeqNum.value==sentSeqNum.value) &amp;&amp; (stage.value==2) ) {
    if(result.value==0) return true;
    else return false;}
                </td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
        </tr>
        <tr>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code">in</td>
                <td class="code">/yamcs/cmd/arg/packet-id</td>
                <td class="code"></td>
                <td class="code">sentCmdId</td>
        </tr>
        <tr>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code">in</td>
                <td class="code">/yamcs/cmdHist/ccsds-seqcount</td>
                <td class="code"></td>
                <td class="code">sentSeqNum</td>
        </tr>
        <tr>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code">in</td>
                <td class="code">avc_command_seq</td>
                <td class="code"></td>
                <td class="code">receivedSeqNum</td>
        </tr>
        <tr>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code">in</td>
                <td class="code">avc_command_id</td>
                <td class="code"></td>
                <td class="code">receivedCmdId</td>
        </tr>
        <tr>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code">in</td>
                <td class="code">avc_command_execution_stage</td>
                <td class="code"></td>
                <td class="code">stage</td>
        </tr>
        <tr>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code"></td>
                <td class="code">in</td>
                <td class="code">avc_command_result</td>
                <td class="code"></td>
                <td class="code">result</td>
        </tr>
</table>

<h3 id="alarms-sheet">Alarms Sheet</h3>
<p>This sheet must be named “Alarms”, and the columns described must not be reordered. The sheet defines how the monitoring results of a parameter should be derived. E.g. if a parameter exceeds some pre-defined value, this parameter’s state changes to <tt>CRITICAL</tt>.</p>

<table class="inline">
	<tr>
		<th>parameter name</th>
		<td>The reference name of the parameter for which this alarm definition applies</td>
	</tr>
	<tr>
		<th>context</th>
		<td>
			<p>A condition under which the defined triggers apply. This can be used to define multiple different sets of triggers for one and the same parameter, that apply depending on some other condition (typically a state of some kind). When left blank, the defined set of conditions are assumed to be part of the <em>default</em> context.</p>
			<p>Contextual alarms are evaluated from top to bottom, until a match is found. If no context conditions apply, the default context applies.</p>
		</td>
	</tr>
	<tr>
		<th>report</th>
		<td>When alarms under the given context should be reported. Should be one of <tt>OnSeverityChange</tt> or <tt>OnValueChange</tt>. With <tt>OnSeverityChange</tt> being the default. The condition <tt>OnValueChange</tt> will check value changes based on the engineering values. It can also be applied to a parameter without any defined severity levels, in which case an event will be generated with every change in value.</td>
	</tr>
	<tr>
		<th>minimum violations</th>
		<td>Number of successive instances that meet any of the alarm conditions under the given context before the alarm event triggers (defaults to 1). This field affects when an event is generated (i.e. only after X violations). It does not affect the monitoring result associated with each parameter. That would still be out of limits, even after a first violation.</td>
	</tr>
	<tr>
		<th>watch: trigger type</th>
		<td>One of <tt>low</tt>, <tt>high</tt> or <tt>state</tt>. For each context of a numeric parameter, you can have both a low and a high trigger that lead to the <tt>WATCH</tt> state. For each context of an enumerated parameter, you can have multiple state triggers that lead to the <tt>WATCH</tt> state.</td>
	</tr>
	<tr>
		<th>watch: trigger value</th>
		<td>
			<p>If the trigger type is <tt>low</tt> or <tt>high</tt>: a numeric value indicating the low resp. high limit value. The value is considered inclusive with respect to its nominal range. For example, a low limit of 20, will have a <tt>WATCH</tt> alarm if and only if its value is smaller than 20.</p>
			<p>If the trigger value is <tt>state</tt>: a state that would bring the given parameter in its <tt>WATCH</tt> state.</p>
		</td>
	</tr>
	<tr>
		<th>warning: trigger type<br />warning: trigger value</th>
		<td>Analogous to <tt>watch</tt> condition</td>
	</tr>
	<tr>
		<th>distress: trigger type<br />distress: trigger value</th>
		<td>Analogous to <tt>watch</tt> condition</td>
	</tr>
	<tr>
		<th>critical: trigger type<br />critical: trigger value</th>
		<td>Analogous to <tt>watch</tt> condition</td>
	</tr>
	<tr>
		<th>severe: trigger type<br />severe: trigger value</th>
		<td>Analogous to <tt>watch</tt> condition</td>
	</tr>
</table>

<h4 id="example-definition-1">Example Definition</h4>

<table class="inline small-contents">
	<tr>
		<th>param name</th>
		<th>context</th>
		<th>rep</th>
		<th>min.v</th>
		<th colspan="2" style="text-align: center">watch</th>
		<th colspan="2" style="text-align: center">warning</th>
		<th colspan="2" style="text-align: center">distress</th>
		<th colspan="2" style="text-align: center">critical</th>
		<th colspan="2" style="text-align: center">severe</th>
	</tr>
	<tr>
		<th></th>
		<th></th>
		<th></th>
		<th></th>
		<th>type</th>
		<th>val</th>
		<th>type</th>
		<th>val</th>
		<th>type</th>
		<th>val</th>
		<th>type</th>
		<th>val</th>
		<th>type</th>
		<th>val</th>
	</tr>
	<tr>
		<td class="code">int_para</td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code">low</td>
		<td class="code">-11</td>
		<td class="code">low</td>
		<td class="code">-22</td>
		<td class="code">low</td>
		<td class="code">-33</td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
	</tr>
	<tr>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code">high</td>
		<td class="code">30</td>
		<td class="code">high</td>
		<td class="code">40</td>
		<td class="code">high</td>
		<td class="code">50</td>
		<td class="code">high</td>
		<td class="code">60</td>
		<td class="code">high</td>
		<td class="code">70</td>
	</tr>
	<tr>
		<td class="code">&nbsp;</td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
	</tr>
	<tr>
		<td class="code"></td>
		<td class="code">other_para = 4</td>
		<td class="code"></td>
		<td class="code">3</td>
		<td class="code">high</td>
		<td class="code">40</td>
		<td class="code">high</td>
		<td class="code">50</td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code">high</td>
		<td class="code">70</td>
		<td class="code"></td>
		<td class="code"></td>
	</tr>
	<tr>
		<td class="code">&nbsp;</td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
	</tr>
	<tr>
		<td class="code">enum_para</td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code">state</td>
		<td class="code">ST1</td>
		<td class="code">state</td>
		<td class="code">ST2</td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code">state</td>
		<td class="code">ST4</td>
		<td class="code"></td>
		<td class="code"></td>
	</tr>
	<tr>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code">state</td>
		<td class="code">ST3</td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
		<td class="code"></td>
	</tr>
</table>

<h3 id="commands-sheet">Commands Sheet</h3>
<p>This sheet must be named “Commands”, and the columns described must not be reordered.
The sheet contains commands description, including arguments. General convention:</p>

<ul>
  <li>First line with a new ‘Command name’ starts a new command</li>
  <li>Second line after a new ‘Command name’ should contain the first command arguments</li>
  <li>Empty lines are only allowed between two commands.</li>
</ul>

<table class="inline">
	<tr>
		<th>Command name</th>
		<td>The name of the command. Any entry starting with `#` is treated as a comment row</td>
	</tr>
	<tr>
		<th>parent</th>
		<td>
			<p>name of the parent command if any.</p>
			<p>Can be specified starting with / for an absolute reference or with ../ for pointing to parent SpaceSystem :x means that the arguments in this container start at position x (in bits) relative to the topmost container. Currently there is a problem for containers that have no argument: the bit position does not apply to children and has to be repeated.</p>
		</td>
	</tr>
	<tr>
		<th>argAssignment</th>
		<td>name1=value1;name2=value2.. where name1,name2.. are the names of arguments which are assigned when the inheritance takes place</td>
	</tr>
	<tr>
		<th>flags</th>
		<td>For commands: A=abstract. For arguments: L = little endian</td>
	</tr>
	<tr>
		<th>argument name</th>
		<td>From this column on, most of the cells are valid for arguments only. These have to be defined on a new row after the command. The exceptions are: description, aliases</td>
	</tr>
	<tr>
		<th>relpos</th>
		<td>Relative position to the previous argument
default is 0</td>
	</tr>
	<tr>
		<th>encoding</th>
		<td>How to convert the raw value to binary. The supported encodings are listed in the table below.</td>
	</tr>
	<tr>
		<th>eng type</th>
		<td>
			Dngineering type; can be one of: uint, int, float, string, binary, enumerated, boolean or FixedValue.
			FixedValue is like binary but is not considered an argument but just a value to fill in the packet.
		</td>
	</tr>
	<tr>
		<th>raw type</th>
		<td>Raw type: one of the types defined in the table below.</td>
	</tr>
	<tr>
		<th>(default) value</th>
		<td>Default value. If eng type is FixedValue, this has to contain the value in hexadecimal. Note that when the size of the argument is not an integer number of bytes (which is how hexadecimal binary strings are specified), the most significant bits are ignored.</td>
	</tr>
	<tr>
		<th>eng unit</th>
		<td></td>
	</tr>
	<tr>
		<th>calibration</th>
		<td>Point to a calibration from the Calibration sheet</td>
	</tr>
	<tr>
		<th>range low</th>
		<td>The value of the argument cannot be smaller than this. For strings and binary arguments this means the minimum length in characters, respectively bytes.</td>
	</tr>
	<tr>
		<th>range high</th>
		<td>The value of the argument cannot be higher than this. Only applies to numbers. For strings and binary arguments this means the minimum length in characters, respectively bytes.</td>
	</tr>
	<tr>
		<th>description</th>
		<td>Optional free text description</td>
	</tr>
</table>

<h4 id="encoding-and-raw-types-for-command-arguments">Encoding and Raw Types for command arguments</h4>
<p>The raw type and encoding describe how the argument is encoded in the binary packet. All types are case-insensitive.</p>

<table class="inline">
        <tr>
                <th>Raw Type</th>
                <th>Encoding</th>
                <th>Description</th>
        </tr>
        <tr>
                <td class="code" rowspan="2">uint</td>
                <td class="code">unsigned(&lt;n&amp;gt,&lt;BE|LE&gt;)</td>
                <td>Unsigned integer.
                    <ul>
                       <li>n is size in bits.</li>
                       <li>LE = little endian, BE = big endian.</li>
                    </ul>
                </td>
        </tr>
        <tr>
               <td class="code">&lt;n&gt;</td>
               <td> shortcut for <tt>unsigned(&lt;n&gt;,BE)</tt></td>
        </tr>
        
        <tr>
                <td class="code" rowspan="3">int</td>
                <td class="code">twosComplement(&lt;n&gt;, &lt;BE|LE&gt;)</td>
                <td>two's complement encoding
                  <ul>
                       <li>n is size in bits.</li>
                       <li>LE = little endian, BE = big endian.</li>
                    </ul>
                </td>
        </tr>
        <tr>                
                <td class="code">signMagnitude(&lt;n&gt;, &lt;BE|LE&gt;)</td>
                <td>sign magnitude encoding - first (or last for LE) bit is the sign, the remaining bits represent the magnitude (absolute value).
                     <ul>
                       <li>n is size in bits.</li>
                       <li>LE = little endian, BE = big endian.</li>
                    </ul>
                </td>
        </tr>
        <tr>                
                <td class="code">&lt;n&gt;</td>
                <td>shortcut for <tt>twosComplement(&lt;n&gt;,BE)</tt>
                </td>
        </tr>
        
        <tr>
                <td class="code" rowspan="2">float</td>
                <td class="code">ieee754_1985(&lt;n&gt;, &lt;BE|LE&gt;)</td>
                <td>IEE754_1985 encoding
                      <ul>
                       <li>n is size in bits.</li>
                       <li>LE = little endian, BE = big endian.</li>
                    </ul>
                </td>
        </tr>
        <tr>
                <td class="code">&lt;n&gt;</td>
                <td>shortcut for <tt>iee754_1985(&lt;n&gt;,BE)</tt></td>
        </tr>
        <tr>
                <td class="code">boolean</td>
                <td>&lt;empty&gt;</td>
                <td>the encoding has to be empty - 1 bit is assumed.</td>
        </tr>
        <tr>
                <td class="code" rowspan="4">string</td>
                <td class="code">fixed(&lt;n&gt;, &lt;charset&gt;)</td>
                <td>fixed size string
                  <ul>
                    <li> <tt>n</tt> is the size in bits of the string. Only multiple of 8 supported.</li>
                    <li><tt>charset</tt> is one of the <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html">charsets supported by java</a> (UTF-8, ISO-8859-1, etc).<br />    
                    If not specified, it is by default UTF-8</li>
                </ul>               
                </td>
                
        </tr>
        <tr>
                <td class="code">PrependedSize(&lt;x&gt;, &lt;charset&gt;&lt;m;&amp;gt)</td>
                <td>The size of string <b>in bytes</b> is specified in first <tt>x</tt> bits of string - the size itself will not be part of the string.<br />
                  <ul>
                    <li><tt>x</tt> is the size in bits of the size tag</li>
                    <li><tt>charset</tt> is as defined above.<br /></li>
                    <li><tt>m</tt> if specified, it is the minimum size in bits of the encoded value. Note that the prepended size reflects the real size of the string even if smaller than this minimum size. This option has been added for compatibility with the Airbus CGS system but its usage is discouraged since it is not compliant with XTCE.<br /></li>
                  </ul>
                </td>
        </tr>
        <tr>
                <td class="code">&lt;n&gt;</td>
                <td>shortcut for <tt>fixed(&lt;n&gt;)</tt></td>
        </tr>
        <tr>
                <td class="code">terminated(&lt;0xBB&gt;, &lt;charset&gt;&lt;m;&amp;gt)</td>
                <td>terminated string;
                   <ul>
                     <li><tt>0xBB</tt> specifies a byte that is the string terminator</li>
                     <li><tt>charset</tt> is as defined above.</li>
                     <li><tt>m</tt> if specified is the minimum size in bits of the encoded value. Note that the termination character reflects the real size of the string even if smaller than this minimum size. This option has been added for compatibility with the Airbus CGS system but its usage is discouraged since it is not compliant with XTCE.</li>
                   </ul>
               </td>
        </tr>
        <tr>
                <td class="code" rowspan="3">binary</td>
                <td class="code">fixed(&lt;n&gt;)</td>
                <td>fixed size byte array.
                <ul>
                  <li><tt>n</tt> size of the array in bits. It has to be multiple of 8 and the argument has to start at a byte boundary.</li>
                </ul>  
               </td>
        </tr>
        <tr>                
                <td class="code">PrependedSize(&lt;x&gt;)</td>
                <td>byte array whose size in bytes is specified in the first <tt>x</tt> bits of the array - the size itself will not be part of the raw value.
                  <ul>
                    <li><tt>x</tt> is the size in bits of the size tag</li>                   
                  </ul>
                    Note that while x can be any number of bits&lt;=32, the byte array has to start at a byte boundary.
                </td>
        </tr>
        <tr>                
                <td class="code">&lt;n&gt;</td>
                <td>shortcut for fixed(&lt;n&gt;)
                </td>
        </tr>       
</table>

<h3 id="command-options-sheet">Command Options Sheet</h3>
<p>This sheet must be named “CommandOptions”, and the columns described must not be reordered.
This sheet defines two types of options for commands:</p>
<ul>
 <li>transmission constraints - these are conditions that have to be met in order for the command to be sent.</li>
 <li>command significance - this is meant to flag commands that have a certain significance. Currently the significance is only used by the end user applications (e.g. Yamcs Studio) to raise the awarness of the operator when sending such command.</li>
</ul>

<table class="inline">
<tr><th>Command name</th><td>The name of the command. Any entry starting with `#` is treated as a comment row</td></tr>
<tr><th>Transmission Constraints</th><td>Constrains can be specified on multiple lines.
All of them have to be met for the command to be allowed for transmission.
</td></tr>
<tr><th>Constraint Timeout</th><td>This refers to the left column.
A command stays in the queue for that many milliseconds. If the constraint is not met, the command is rejected.
0 means that the command is rejected even before being added to the queue, if the constraint is not met.
</td></tr>
<tr><th>Command Significance</th><td>Significance level for commands. Depending on the configuration, an extra confirmation or certain privileges may be required to send commands of high significance.
one of:
- none
- watch
- warning
- distress
- critical
- severe
</td></tr>
<tr><th>Significance Reason</th><td>A message that will be presented to the user explaining why the command is significant.
</td></tr>
</table>

<h3 id="command-verification-sheet">Command Verification Sheet</h3>
<p>The Command verification sheets defines how a command shall be verified once it has been sent for execution.</p>

<p>The transmission/execution of a command usual goes through multiple stages and a verifier can be associated to each stage.
Each verifier runs within a defined time window which can be relative to the release of the command or to the completion of the previous verifier. The verifiers have three possible outcomes:</p>
<ul>
   <li> OK = the stage has been passed successfully.</li>
   <li> NOK = the stage verification has failed (for example there was an error on-board when executing the command, or the uplink was not activated).</li>
   <li> timeout - the condition could not be verified within the defined time interval.</li>
  </ul>
<p>For each verifier it has to be defined what happens for each of the three outputs.</p>

<table class="inline">
<tr>
  <th>Command name</th>
  <td>The command relative name as defined in the Command sheet. Referencing commands from other subsystems is not supported.</td>
</tr>

<tr>
   <th>CmdVerifier Stage</th>
   <td>
    Any name for a stage is accepted but XTCE defines the following ones:
    <ul>
      <li>TransferredToRange</li>
      <li>SentFromRange</li>
      <li>Received</li>
      <li>Accepted</li>
      <li>Queued</li>
      <li>Execution</li>
      <li>Complete</li>
      <li>Failed</li>
    </ul>
    Yamcs interprets these as strings without any special semantics.
    If special actions (like declaring the command as completed) are required for Complete or Failed, they have to be configured in OnuSccess/OnFail/OnTimeout columns. By default command history events with the name Verification_&lt;stage&gt; are generated."
  </td>
</tr>

<tr>
   <th>CmdVerifier Type</th>
   <td>
     Supported types are:
     <ul>
       <li>container – the command is considered verified when the container is received. Note that this cannot generate a Fail (NOK) condition - it's either OK if the container is received in the timewindow or timeout if the container is not received.</li>
       <li>algorithm – the result of the algorithm run is used as the output of the verifier. If the algorithm is not run (because it gets no inputs) or returns null, then the timeout condition applies</li>
     </ul>
    </td>
</tr>
<tr>
  <th>CmdVerifier Text </th>
  <td>
    Depending on the type: 
    <ul>
      <li>container: is the name of the container from the Containers sheet. Reference to containers from other space systems is not supported.</li>
      <li>algorithm: is the name of the algorithm from the Algorithms sheet. Reference to algorithms from other space systems is not supported.</li>
     </ul>
   </td>
</tr>

<tr>
   <th>Time Check Window</th>
   <td>start,stop in milliseconds defines when the verifier starts checking the command and when it stops. </td>
</tr>

<tr>
  <th>checkWindow is relative to</th>
  <td>
    <ul>
      <li>LastVerifier (default) – the start,stop in the window definition are relative to the end of the previous verifier. If there is no previous verifier, the start,stop are relative to the command release time. If the previous verifier ends with timeout, this verifier will also timeout without checking anything.</li>
      <li>CommandRelease - the start,stop in the window definition are relative to the command release.</li>
    </ul>
  </td>
</tr>

<tr>
  <th>OnSuccess</th>
  <td>
  	Defines what happens when the verification returns true. It has to be one of:
	<ul>
		<li>SUCCESS: command considered completed successful (CommandComplete event is generated)</li>
		<li>FAIL:  CommandFailed event is generated</li>
		<li>none (default) – only a Verification_stage event is generated without an effect on the final execution status of the command.</li>
	</ul>
  </td>
</tr>
<tr>
    <th>OnFail</th>
    <td> Same like OnSuccess but the evnet is generated in case the verifier returns false.</td>
</tr>
<tr>
    <th>OnTimeout</th>
    <td>Same as OnSuccess but the event is generated in case the verifier times out.</td>
</tr>

</table>

<h3 id="change-log-sheet">Change Log Sheet</h3>
<p>This sheet must be named “ChangeLog”, and the columns described must not be reordered.
This sheet contains the list of the revision made to the MDB.</p>



                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        XTCE Loader
                      
                    </h2>
                    <p>This loader reads an MDB saved in XML format compliant with the XTCE specification. For more information about XTCE, see <a href="http://www.xtce.org">http://www.xtce.org</a>.</p>

<p>The loader is configured in <tt>etc/mdb.yaml</tt> or in the instance configuration by specifying the ‘type’ as <tt>xtce</tt>, and providing the location of the XML file in the <tt>spec</tt> attribute.</p>

<h2 id="general">General</h2>

<p>Yamcs uses XTCE data structures internally as much as possible, following the XTCE v1.2. Since the version 1.2 of XTCE is not yet (as of June-2018) available, the implementation has been based on various drafts found on the Internet, notably on the <a href="https://gitlab.com/dovereem/xtcetools">xtcetools</a> project (whose author is one of the main contributors to the standard).
However not all parts of the standard are supported. This chapter presents an overview of the not supported features and details when the implementation might differ from the standard. All the features that are not mentioned in this chapter should be supported; if you encounter a problem please submit an <a href="https://github.com/yamcs/yamcs/issues/new">issue</a>.</p>

<p>Note that when reading the XML XTCE file Yamcs is on purpose tolerant, it ignores the tags it does not know and it also strives to be backward compatibible with XTCE 1.0 and 1.1. Thus the fact that an XML file loads in Yamcs does not mean that is 100% valid. Please use a generic XML validation tool or the xtcetools project mentioned above to validate your XML file.</p>

<p>The following concepts are <b>not supported</b> at all:</p>
<ul>
  <li><tt>Stream</tt> - data is assumed to be injected into Yamcs as packets (see <a href="/docs/server/Data_Link_Initialiser/">Data Links</a>), any stream processing has to be done as part of the data link definition and is not based on XTCE.</li>
  <li><tt>Message</tt></li>
  <li><tt>ParameterSegmentRefEntry</tt></li>
  <li><tt>ContainerSegmentRefEntry</tt></li>
  <li><tt>BooleanExpression</tt></li>
  <li><tt>DiscreteLookupList</tt></li>
  <li><tt>ErrorDetectCorrectType</tt>. Note that error detection/correction is implemented directly into the Yamcs data links.</li>
  <li><tt>ContextSignificanceList</tt></li>
  <li><tt>ParameterToSetList</tt></li>
  <li><tt>ParameterToSuspendAlarmsOnSet</tt></li>
  <li><tt>RestrictionCriteria/NextContainer</tt></li>
  <li><tt>CommandVerifierType/(Comparison, BooleanExpression,ComparisonList)</tt> - soon to be implemented</li>
  <li><tt>CommandVerifierType/ParameterValueChange</tt> - soon to be implemented</li>
</ul>

<p>The other elements are supported one way or another, exceptions or changes from the specs are given in the sections below.</p>

<h3 id="header">Header</h3>
<p>Only the version and date are supported. <tt>AuthorSet</tt> and <tt>NoteSet</tt> are ignored.</p>

<h3 id="data-encodings">Data Encodings</h3>

<h3 id="changethreshold">changeThreshold</h3>
<p>changeThreshold is not supported.</p>

<h4 id="frombinarytransformalgorithm">FromBinaryTransformAlgorithm</h4>
<p>In XTCE the <tt>FromBinaryTransformAlgorithm</tt> can be specified for the <tt>BinaryDataEncoding</tt>. It is not clear how exactly that is supposed to work. In Yamcs the <tt>FromBinaryTransformAlgorithm</tt> can be specified on any <tt>XyzDataEncoding</tt> and is used to convert from binary to the raw value which is supposed to be of type Xyz.</p>

<h4 id="tobinarytransformalgorithm">ToBinaryTransformAlgorithm</h4>
<p>not supported for any data encoding</p>

<h4 id="floatdataencoding">FloatDataEncoding</h4>
<p>Yamcs supports IEEE754_1985, MILSTD_1750A and STRING encoding. STRING is not part of XTCE - if used, a StringDataEncoding can be attached to the FloatDataEncoding and the string will be extracted according to the StringDataEncoding and then parsed into a float or double according to the sizeInBits of FloatDataEncoding. DEC, IBM and TI encoding are not supported.</p>

<h4 id="stringdataencoding">StringDataEncoding</h4>
<p>For variable size strings whose size is encoded in front of the string, Yamcs allows to specify only for command arguments sizeInBitsOfSizeTag = 0. This means that the value of the argument will be inserted without providing the information about its size. The receiver has to know how to derive the size. This has been implemented for compatibility with other sysstems (e.g. SCOS-2k) which allows this - however it is not allowed by XTCE which enforces sizeInBitsOfSizeTag &gt; 0.</p>

<h3 id="data-types">Data Types</h3>

<h4 id="validrange">ValidRange</h4>
<p>Not supported for any parameter type.</p>

<h4 id="booleandatatype">BooleanDataType</h4>
<p>In XTCE, each <tt>BooleanDataType</tt> has a string representation. In Yamcs the value is mapped to a org.yacms.parameter.BooleanValue or the protobuf equivalnet that is a wrapper for a boolean (either true or false in all sane programming languages). The string value is neverhteless supported in comparisons and mathalgorithms but they are converted internally to the boolean value. If you want to get to the string representation from the client, use an <tt>EnumeratedParameterType</tt>.</p>

<h4 id="relativetimedatatype">RelativeTimeDataType</h4>
<p>not supported.</p>

<h2 id="monitoring">Monitoring</h2>

<h3 id="parametersettype">ParameterSetType</h3>
<p><tt>parameterRef</tt> is not supported. According to XTCE doc this is “Used to include a Parameter defined in another sub-system in this sub-system”. It is not clear what it means “to include”. Parameters from other space systems can be referenced using a fully qualified name or a relative name.</p>

<h3 id="parameterproperties">ParameterProperties</h3>
<ul>
  <li><tt>PhysicalAddressSet</tt> is not supported.</li>
  <li><tt>SystemName</tt> is not supported.</li>
  <li><tt>TimeAssociation</tt> is not supported.</li>
</ul>

<h3 id="containers">Containers</h3>
<p><tt>BinaryEncoding</tt> not supported in the container definitions.</p>

<h3 id="stringparametertype">StringParameterType</h3>
<p>Alarms are not supported.</p>

<h2 id="commanding">Commanding</h2>

<p>Aggregates and Arrays are not supported for commands (they are for telemetry).</p>

<h3 id="argumentrefentry">ArgumentRefEntry</h3>
<ul>
  <li><tt>IncludeCondition</tt> is not supported</li>
  <li><tt>RepeatEntry</tt> is not supported</li>
</ul>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Empty Node
                      
                    </h2>
                    <p>This “loader” allows to create an empty node (SpaceSystem) with a given name. The loader has been added in version 4.8.2 of Yamcs.</p>

<p>For example this configuration will create two parallel nodes “/N1” and “/N2” and underneath each of them, load the xls files of the simulator.</p>
<pre>
mdb:
  - type: "emptyNode"
    spec: "N1"
    subLoaders:
      - type: "sheet"
        spec: "mdb/simulator-ccsds.xls"
        subLoaders:
          - type: "sheet"
            spec: "mdb/landing.xls"

  - type: "emptyNode"
    spec: "N2"
    subLoaders:
      - type: "sheet"
        spec: "mdb/simulator-ccsds.xls"
        subLoaders:
          - type: "sheet"
            spec: "mdb/landing.xls"
</pre>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        SCOS2K Loader
                      
                    </h2>
                    <p>The SCOS2K loader loads MIB definitions as defined by SCOS-2000. To use it, you need to compile the project <a href="https://github.com/yamcs/yamcs-scos2k">yamcs-scos2k</a> and copy the jar into the yamcs lib/ext directory.</p>

<p>Then you can add the following in the mdb.yaml:</p>
<pre>
scos-mib:
  - type: "org.yamcs.scos2k.MibLoader"
    args: 
        path: "/path/to/ASCII/"
        # byte offset from beginning of the packet where the type and subType are read from     
        typeOffset: 7
        subTypeOffset: 8
        epoch: "UNIX"
</pre>

<h1 id="known-problems-and-limitations">Known problems and limitations</h1>
<p>The SCOS-2K loader has been implemented as a proof of concept and only subjected to limited testing by loading a <a href="https://ccs.terma.com/">TERMA TSC</a> test database and comparing the TM/TC decoding/encoding with the TSC. A number of known limitations are documented below.</p>

<p>To be fixed as soon as someone shows some interest in this project (please submit an <a href="https://github.com/yamcs/yamcs-scos2k/issues/new">issue</a> if you want this fixed):</p>

<ul>
  <li>
    <p>the loader does not detect when the files have changed and does not reload the database. This is because it looks at the date  of the ASCII directory. As a workaround you can either remove the serialized MDB from ~/.yamcs or /opt/yamcs/cache or run “touch ASCII” to change the date of the directory.</p>
  </li>
  <li>
    <p>command verifiers are currently not loaded</p>
  </li>
</ul>

<p>Probably not immediate priority:</p>

<ul>
  <li>delta monitoring checks (OCP_TYPE=D) not supported</li>
  <li>event generation (OCP_TYPE=E) not supported</li>
  <li>status consistency checks (OCP_TYPE=C, PCF_USCON=Y) not supported</li>
  <li>arguments of type “Command Id” (CPC_CATEG=A) are not supported. These can be used to insert one command inside another one. Instead a binary command argument is being used.</li>
  <li>SCOS 2K allows multiple command arguments with the same name. This is not supported in Yamcs (and in XTCE) so duplicate arguments are renamed arg_<n>  with n increasing for each argument.</n></li>
  <li>no command stack support.</li>
</ul>



                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        CDMCS MDB Loader
                      
                    </h2>
                    <h4 id="tmtc">TM/TC</h4>

<p>This loader loads the telemetry/telecommand definition directly from the Oracle using the oracle jdbc driver. The relevant configuration file is <tt>etc/cdmcs-mdb.yaml</tt>.</p>

<p>This configuration file contains, next to the username/password used to connect to the database, the path and the version of the CCU that will be loaded and also the testConfiguration (an end item of type <tt>EGSE_TEST_CONFIGURATION</tt>).</p>

<p>Based on the CCU parameters and on the opsname of the testConfiguration (the test configuration can only be specified through its opsname, so the opsname must exist and be unique.), Yamcs can determine the following three attributes which are used as attributes of the XTCE header:</p>

<ul>
  <li>CCU Internal Version - this is a number uniquely identifying the CCU and the CCU version</li>
  <li>Test Configuration SID - this is a number uniquely identifying the test configuration</li>
  <li>Consistency Date - this is the time when the configured CCU has been last modified.</li>
</ul>

<p>Please refer to <a href="/docs/server/Telemetry_Processing/">Telemetry Processing</a> and to <a href="/docs/server/Commanding">Commanding</a> for details on the loading of the MDB end items and on the mapping to Yamcs structures.</p>

<p>The configuration parameter <tt>checkForUpdatedMdb</tt> configures Yamcs to check or not the Oracle database for modified versions of the MDB. If the MDB cannot be loaded from the serialized file, the Oracle database is checked nevertheless.</p>

<p>This option is useful for working offline. However if it is set to false, Yamcs will never read new versions of the database, and if the database is modified and SCOE files generated, MCS Tools will refuse to load the SCOE files (it will want old ones corresponding to the saved Yamcs database).</p>

<p>The packet description in CD-MCS MDB is spread over different structures. When read into Yamcs, they are converted into the XTCE structures as follows:</p>

<ol>
  <li>
    <p>A generic sequence container named “ccsds” is created. This will be the root of the hierarchy. Three parameters are added to this sequence container:</p>

    <table class="inline">
     <tr>
         <th class="code">CCSDS_APID</th>
         <td>the APID in the CCSDS primary header</td>
     </tr>
     <tr>
         <th class="code">CCSDS_SH_PACKETTYPE</th>
         <td>the packet type in the CCSDS secondary header</td>
     </tr>
     <tr>
         <th class="code">CCSDS_PACKETID</th>
         <td>the packet type in the CCSDS secondary header</td>
     </tr>
 </table>
  </li>
  <li>
    <p>A generic sequence container named <tt>CCSDS_RESPONSE_PACKET</tt> inheriting from the “CCSDS” container is created. The inheritance condition is <tt>CCSDS_SH_PACKETTYPE=12(Response_packet)</tt>. This packet can be used by the CIS clients which want to subscribe to all the CCSDS response packets (for example the cmd-history).</p>
  </li>
  <li>
    <p>All the command responses (<tt>CCSDS_ADU_DESCRIPTION</tt> which have CCSDS Secondary Header set to <tt>CCSDS_RESPONSE_PACKET</tt>) are set to inherit the <tt>CCSDS_RESPONSE_PACKET</tt> container defined above. The inheritance condition is set on the <tt>CCSDS_APID</tt>, <tt>CCSDS_PACKETID</tt> parameters.</p>
  </li>
  <li>
    <p>All others <tt>CCSDS_ADU_DESCRIPTION</tt> are set to inherit directly the root container CCSDS. The inheritance condition is set also on the <tt>CCSDS_APID</tt> and <tt>CCSDS_PACKETID</tt> parameters.</p>
  </li>
  <li>
    <p>For each <tt>CCSDS_ADU_DESCRIPTION</tt> that contains a “Reference To a Structure ID or Table” pointing to an end item of type <tt>MEASUREMENT_LIST_TABLE</tt>, an additional integer parameter is created containing the definition of the “Flexible ID” as defined in this aggregate. Then for each end item of type <tt>PUS_STRUCTURE_ID</tt> referred in the <tt>MEASUREMENT_LIST_TABLE</tt>, a sequence container is created in Yamcs, set to inherit the original <tt>CCSDS_ADU_DESCRIPTION</tt> with the inheritance condition on the Flexible ID as defined in the <tt>MEASUREMENT_LIST_TABLE</tt>.</p>
  </li>
</ol>

<p><img src="/assets/server/MDBSequenceContainerCreation.png" alt="Creation of the sequence containers from the CD-MCS MDB" class="center-image" /></p>

<h4 id="pp-loader">PP Loader</h4>
<p>The PP loader scans a configured CD-MCS MDB for all the end items of type <tt>UMI_MAPPING_TABLE</tt>. The first part of the Opsname (string before the underscore) is used as group name.</p>


                    
                    
              
            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Telemetry Processing
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                

                

            
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc">
                      
                        Packet Telemetry
                      
                    </h2>
                    <p>The Yamcs Server implements a subset of the XTCE (XML Telemetric and Command Exchange) for telemetry processing. Only the concepts defined by the standard are supported.</p>

<p>For information about XTCE, please refer to <a href="http://www.xtce.org">http://www.xtce.org</a>. These sections detail only the XTCE types implemented in Yamcs.</p>

<h4 id="sequence-containers">Sequence Containers</h4>

<p>Sequence containers are the equivalent of packets in the usual terminology, or ADU in the MDB terminology.</p>

<p>A sequence container employs two mechanism to avoid the limitation of traditional “packet with parameters” approach. These mechanisms are <em>aggregation</em> and <em>inheritance</em>.</p>

<h4 id="container-aggregation">Container aggregation</h4>
<p>A sequence container contains <em>sequence entries</em> which can be of two types:</p>

<ul>
  <li>Parameter Entries - these point to normal parameters.</li>
  <li>Container Entries - these point to other containers which are then included in the big container.</li>
</ul>

<p>Special attention must be given to the specification of positions of entries in the container. For performance reasons, it is preferable that all positions are absolute (i.e. relative to the beginning of the container) rather than relative to the previous entry. The Excel spreadsheet loader tries to transform the relative positions specified in the spreadsheet into absolute positions.</p>

<p>However, due to entries which can be of variable size, the situation cannot always be avoided. When an entry whose position is relative to the previous entry is subscribed, Yamcs adds to the subscription all the previous entries until it finds one whose position is absolute.</p>

<p>If an entry’s position depends on another entry (it can be the same in case the entry repeats itself) which is a Container Entry (i.e. makes reference to a container), and the referenced container doesn’t have the size in bits specified, then all the entries of the referenced container plus all the inheriting containers and their entries recursively are added to the subscription. Thus, the processing of this entry will imply the extraction of all parameters from the referenced container and from the inheriting containers. The maximum position reached when extracting entries from the referenced and inheriting containers is considered the end of this entry and used as the beginning of the following one.</p>

<h4 id="container-inheritance">Container inheritance</h4>

<p>Sequence containers can point to another sequence container through the baseContainer property, meaning that the baseContainer is extended with additional sequence entries. The inheritance is based on a condition put on the parameters from the baseContainer (e.g. a EDR_HK packet is a CCSDS packet which has the apid=943 and the packetid=0x1300abcd).</p>

<h4 id="little-endian-parameter-encoding">Little Endian Parameter Encoding</h4>
<p>Yamcs does not currently support the XTCE way of describing byte ordering for parameter encoding.</p>

<p>The only alternative byte order supported is little endian. For parameters occupying entire bytes, there is no doubt on what this means. However, for parameters which occupy only part of bytes the following algorithm is applied to extract the parameter from the packet:</p>

<ol>
  <li>
    <p>Based on the location of the first bit and on the size in bits of the parameter, find the sequence of bytes that contains the parameter. Only parameters that occupy at most 4 bytes are supported.</p>
  </li>
  <li>
    <p>Read the bytes in reverse order in a 4 bytes int variable.</p>
  </li>
  <li>
    <p>Apply the mask and the shift required to bring the parameter to the rightmost bit.</p>
  </li>
</ol>

<p>For example, assuming that on an x86 CPU we have the following structure in C:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">struct</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">parameter1</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">parameter2</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">parameter3</span><span class="o">:</span><span class="mi">12</span><span class="p">;</span>
<span class="p">}</span> <span class="n">x</span><span class="p">;</span>
<span class="n">x</span><span class="p">.</span><span class="n">a</span><span class="o">=</span><span class="mh">0x1</span><span class="p">;</span>
<span class="n">x</span><span class="p">.</span><span class="n">b</span><span class="o">=</span><span class="mh">0x2345</span><span class="p">;</span>
<span class="n">x</span><span class="p">.</span><span class="n">c</span><span class="o">=</span><span class="mh">0x678</span><span class="p">;</span>
</code></pre></div></div>

<p>Would result, when converted to network order, in the sequence of hex bytes  <code class="highlighter-rouge">51 34 82 67</code>. Thus, the definition of this packet should look like:</p>

<table class="inline">
    <tr>
        <th>Parameter</th>
        <th width="25%">Location</th>
        <th width="25%">Size</th>
    </tr>
    <tr>
        <td>parameter1</td>
        <td>4</td>
        <td>4</td>
    </tr>
    <tr>
        <td>parameter2</td>
        <td>4</td>
        <td>16</td>
    </tr>
    <tr>
        <td>parameter3</td>
        <td>16</td>
        <td>12</td>
    </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Algorithms
                      
                    </h2>
                    <p>Yamcs supports the XTCE notion of <em>algorithms</em>. Algorithms are user scripts that can perform arbitrary logic on a set of incoming parameters. The result is typically one or more derived parameters, called <em>output parameters</em>, that are delivered together with the original set of parameters (at least, if they have been subscribed to).</p>

<p>Output parameters are very much identical to regular parameters. They can be calibrated (in which case the algorithm’s direct outcome is considered the raw value), and they can also be subject to alarm generation.</p>

<p>Algorithms can be written in any JSR-223 scripting language. The preferred language is specified in the instance configuration file, and applies to all algorithms within that instance. By default Yamcs ships with support for JavaScript algorithms since the standard Oracle Java distribution contains the Nashorn JavaScript engine. Support for other languages (e.g. Python) requires installing additional dependencies.</p>

<p>Yamcs will bind these input parameters in the script’s execution context, so that they can be accessed from within there. In particular the following attributes are made available:</p>

<ul>
  <li>value: the engineering value</li>
  <li>rawValue: the raw value (if the parameter has a raw value)</li>
  <li>monitoringResult: the result of the monitoring: <em>null</em>, <tt>DISABLED</tt>, <tt>WATCH</tt>, <tt>WARNING</tt>, <tt>DISTRESS</tt>, <tt>CRITICAL</tt> or <tt>SEVERE</tt>.</li>
  <li>rangeCondition: <tt>LOW</tt> or <tt>HIGH</tt>.</li>
</ul>

<p>If there was no update for a certain parameter, yet the algorithm is still being executed, the previous value of that parameter will be retained.</p>

<h4 id="triggers">Triggers</h4>
<p>Algorithms can trigger on two conditions:</p>

<ul>
  <li>Whenever a specified parameter is updated</li>
  <li>Periodically (expressed in milliseconds)</li>
</ul>

<p>Multiple triggers can be combined. In the typical example, an algorithm will trigger on updates for each of its input parameters. In other cases (for example because the algorithm doesn’t have any inputs), it may be necessary to trigger on some other parameter. Or maybe a piece of logic just needs to be run at regular time intervals, rather than with each parameter update.</p>

<p>If an algorithm was triggered and not all of its input parameters were set, these parameters <em>will</em> be defined in the algorithm’s scope, but with their value set to <tt>null</tt>.</p>

<h4 id="user-libraries">User Libraries</h4>
<p>The Yamcs algorithm engine can be configured to import a number of user libraries. Just like with algorithms, these libraries can contain any sort of logic and are written in the same scripting language. Yamcs will load user libraries <em>one time only</em> at start-up in their defined order. This will happen before running any algorithm. Anything that was defined in the user library, will be accessible by any algorithm. In other words, user libraries define a kind-of global scope. Common use cases for libraries are: sharing functions between algorithms, shortening user algorithms, easier outside testing of algorithm logic, …</p>

<p>Being able to split the code in different user libraries is merely a user convenience. For all Yamcs cares, they could all be merged together in one big file.</p>

<h4 id="algorithm-scope">Algorithm Scope</h4>
<p>User algorithms themselves have each their own scope. This scope is safe with regards to other algorithms (i.e. variables defined in algorithm <em>a</em> will not leak to algorithm <em>b</em>.</p>

<p>An algorithm’s scope, however, will be shared across multiple algorithm runs. This feature allows you to keep variables inside internal memory if needed. Do take caution with initializing your variables correctly at the beginning of your algorithm if you only update them under a certain set of conditions (unless of course you intend them to keep their value across runs).</p>

<h4 id="sharing-state">Sharing State</h4>
<p>If some kind of a shared state is required between multiple algorithms, the user libraries’ shared scope could be (ab)used for this. In many cases, the better solution would be to just output a parameter from one algorithm, and input it into another. Yamcs will automatically detect such dependencies, and will execute algorithms in the correct order.</p>

<h4 id="historic-values">Historic Values</h4>
<p>With what has been described so far, it would already be possible to store values in an algorithm’s scope and perform windowing operations, such as averages. Yamcs goes a step further by allowing you to input a particular <em>instance</em> of a parameter. By default instance <em>0</em> is inputted, which means the parameter’s actual value. But you could also define instance <em>-1</em> for inputting the parameter’s value as it was on the previous parameter update. If you define input parameters for, say, each of the instances <em>-4</em>, <em>-3</em>, <em>-2</em>, <em>-1</em> and <em>0</em>, your user algorithm could be just a simple oneliner, since Yamcs is taking care of the administration.</p>

<p>Algorithms with windowed parameters will only trigger as soon as each of these parameters have all instances defined (i.e. when the windows are full).</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Alarms
                      
                    </h2>
                    <p>Yamcs supports the XTCE notion of <em>alarms</em>. Based on the value of a parameter, Yamcs assigns a monitoring result to each parameter. The default monitoring result is DISABLED.</p>

<p>For enumerated parameters, the monitoring result can be:</p>

<ul>
  <li><em>null</em> (no alarm states are defined for this parameter)</li>
  <li>DISABLED (no alarms are applicable given the current set of updated parameter values)</li>
  <li>IN_LIMITS (an alarm was checked, but the value is within limits)</li>
  <li>WATCH</li>
  <li>WARNING</li>
  <li>DISTRESS</li>
  <li>CRITICAL</li>
  <li>SEVERE</li>
</ul>

<p>For numeric parameters, the monitoring result can be:</p>

<ul>
  <li><em>null</em> (no alarm ranges are defined for this parameter)</li>
  <li>DISABLED (no alarms are applicable given the current set of updated parameter values)</li>
  <li>IN_LIMITS (an alarm was checked, but the value is within limits)</li>
  <li>WATCH</li>
  <li>WARNING</li>
  <li>DISTRESS</li>
  <li>CRITICAL</li>
  <li>SEVERE</li>
</ul>

<p>Numeric parameter values get also tagged with a range condition LOW or HIGH, indicating whether the parameter value is too low or too high.</p>

<p>As part of the MDB definition, the user can define for each parameter on which conditions the monitoring result should be set to a certain value. If the alarm conditions for multiple severity levels match, the highest severity level will always win.</p>

<p>For each parameter, multiple different sets of alarm conditions can be defined. A <em>context</em> condition is used to determine which set is applicable (for example, apply a different set of alarms if some other parameter is set to ‘CONTINGENCY MODE’).</p>


                    
                    
              
            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Commanding
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                <p>Yamcs supports XTCE concepts for commanding. Commands have constraints (preconditions) and verifiers (postconditions). The constraints are checked before issuing an command and the verifiers are run after the command has been issued to verify the different stages of execution.</p>

<p>In addition to the constraints/verifiers, Yamcs also implements the concept of command queue. This allows an operator to inspect commands of other users before being issued. It also allows to block completely commands from users during certain intervals (this effect can also be obtained with a constraint).</p>

<p>The Commands and arguments are formatted to binary packets based on the XTCE definition.</p>

<h3 id="command-significance">Command Significance</h3>
<p>Yamcs uses the XTCE concept of command significance. Each command’s significance can have one of this values none (default), watch, warning, distress, critical or severe.</p>

<p>In addition to the significance, the command has a message explaining why the command has the given significance.</p>

<p>Currently, Yamcs Server does not check or impose anything based on the significance of the command. In the future, the privileges may be used to restrict users that can send commands of high significance. However, currently the information (significance + reason) is only given to an external application (Yamcs Studio) to present it to the user in a suitable manner.</p>

<p>The command significance can be defined in the Excel Spreadsheet in the CommandOptions tab:</p>

<p><img src="/assets/mdb/significance.png" alt="Significance" class="center-image" /></p>

<h3 id="command-queues">Command Queues</h3>
<p>When a command is sent by an external user, it goes first into a queue. Privileges are checked before the command is put into the queue, so if the user doesn’t have the privilege for the given command, the command will be rejected and not appear at all in the queue.</p>

<p>The available queues are defined in the file <tt>etc/command-queue.yaml</tt>.</p>

<pre class="r header">command-queue.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">ops</span><span class="pi">:</span>
  <span class="na">state</span><span class="pi">:</span> <span class="s">enabled</span>
  <span class="na">significances</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">none</span><span class="pi">]</span>

<span class="na">ops-critic</span><span class="pi">:</span>
  <span class="na">state</span><span class="pi">:</span> <span class="s">enabled</span>
  <span class="na">significances</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">watch</span><span class="pi">,</span> <span class="nv">warning</span><span class="pi">,</span> <span class="nv">distress</span><span class="pi">,</span> <span class="nv">critical</span><span class="pi">,</span> <span class="nv">severe</span><span class="pi">]</span>
  <span class="na">stateExpirationTimeS</span><span class="pi">:</span> <span class="s">300</span></code></pre></figure>

<p>Each queue has a name, a default state and a list of roles. The commands of a user logging in with a given role will be put in the first queue for which the user has privileges. A queue can be in three different states:</p>

<table class="inline">
    <tr>
        <th>Enabled</th>
        <td>means the commands are sent immediately</td>
    </tr>
    <tr>
        <th>Blocked</th>
        <td>means the commands are accepted into the queue but need to be manually sent</td>
    </tr>
    <tr>
        <th>Disabled</th>
        <td>means the commands are rejected</td>
    </tr>
</table>

<p>There is always a command-queue called ‘default’ whose state is enabled. If a command comes from a user without privilege for any of the defined queues, the command will be put in the default queue. The default queue can be redefined in <a href="/docs/server/command-queue.yaml/">etc/command-queue.yaml</a> in order to have a different state.</p>

<p>Control over the command queues, requires the <tt>ControlCommandQueue</tt> privilege.</p>

<h3 id="transmission-constraints">Transmission Constraints</h3>
<p>When the is set to be released from the queue (either manually by an operator or automatically because the queue was in the Enabled state), the transmission constraints are verified.</p>

<p>The command constraints are conditions set on parameters that have to be met in order for the command to be releasd. There can be multiple constraints for each command and each constraint can specify a timeout which means that the command will fail if the constraint is not met within the timeout. If the timeout is 0, the condition will be checked immediately.</p>

<p>The transmission constraints can be defined in the Excel Spreadsheet in the CommandOptions tab.
<img src="/assets/mdb/constraints.png" alt="Constraints" class="center-image" /></p>

<p>Currently it is only possible to specify the transmission constraints based on parameter verification. This corresponds to  Comparison and ComparisonList in XTCE. In the future it will be possible to specify transmission constraints based on algorithms. That will allow for example to check for specific values of arguments (i.e. allow a command to be sent if cmdArgX &gt; 3).</p>


                

            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Archive
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                <p>The Yamcs archive is divided in two parts:</p>

<ul>
  <li>
    <p><b>Stream Archive</b> stores time ordered tuples (t, v<sub>1</sub>, v<sub>2</sub>…v<sub>n</sub>) where t is the time and v<sub>1</sub>, v<sub>2</sub>, v<sub>n</sub> are values of various types. This is used for storing raw telemetry packets, commands, events, alarms and processed parameters. The stream archive can be seen as a row-oriented archive and is optimized for accessing entire records (e.g. a packet or a group of processed parameters).</p>
  </li>
  <li>
    <p><b>Parameter Archive</b> stores time ordered parameter values. The parameter archive is column oriented archive and it is optimized for accessing a (relatively small) number of parameters over longer periods of time.</p>
  </li>
</ul>

<p>Data is stored in the Stream Archive as soon as it is being received, whereas the Parmeter Archive involves some data transformation and it is filled in batches. However, for an external user, Yamcs should make the filling process invisible so data from both archives can be retrieved (almost) as soon as it been received by Yamcs.</p>

                

            
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc">
                      
                        Stream Archive
                      
                    </h2>
                    <p>Yamcs uses streams to transfer tuples of data. A tuple has a variable number of columns, each of predefined type. The Yamcs stream archive is composed of tables that store data passing through streams.</p>

<p>Like streams, the tables have a variable number of columns of predefined types. In addition to that, the tables have also a primary key composed of one or more columns. The primary key columns are mandatory, a tuple that doesn’t have them will not be stored in the table.</p>

<p>The primary key is used to sort the data in the table. Yamcs uses a (key,value) storage engine (currently RocksDB) for storing the data. Both key and value are byte arrays. Yamcs uses the serialized primary key of the table as the key in RocksDb and the remaining columns serialized as the value.</p>

<p>Although not enforced by Yamcs, it is usual to have the time as part of the primary key.</p>

<p>On the basic stream archive structure, Yamcs pre-defines a few table types for storing data at higher level of abstractions. These are Packet telemetry, Events, Command history, Alarms and Parameters and are described in the next sections.</p>

<h2 id="packet-telemetry">Packet telemetry</h2>
<p>The below definition (created inside the XtceTmRecorder service) will create a table that uses the generation time and sequence number as primary key. That means that if a packet has the same time and sequence number as another packet already in the archive, it will not be stored (considered duplicate).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE tm(
    gentime TIMESTAMP, 
    seqNum INT, 
    packet BINARY, 
    pname ENUM, 
    PRIMARY KEY(
        gentime, 
        seqNum
    )
 ) HISTOGRAM(pname) PARTITION BY TIME_AND_VALUE(gentime, pname) TABLE_FORMAT=compressed;
</code></pre></div></div>

<p>Following is a short description of the columns used:</p>

<ul>
  <li>gentime - is the generation time of the packet.</li>
  <li>seqNum - is an increasing sequence number.</li>
  <li>packet - is the binary packet.</li>
  <li>pname - is the XTCE fully qualified name of the container. In the XTCE container hierarchy, one has to configure which containers are used as partitions. This can be done by setting a flag in the spreadsheet.</li>
</ul>

<p>The HISTOGRAM(pname) clause means that Yamcs will build an overview that can be used to quickly see when data for the given packet name is available in the archive.</p>

<p>The PARTITION BY TIME_AND_VALUE clause means that data will be partition in different RocksDB databases and column families based on the time and container name. Currently the time partitioning schema used is “YYYY/MM” which means there will be one RocksDB database per year,month. Inside that database there will be one column family for each container that is used for partitioning.
Parittioning the data based on time, ensures that old data will be “frozen” and not disturbed by new data coming in. Partitioning by container has benefits when retrieving data for one  specific container for a time interval. If this is not desired, one can set the partitioning flag only on the root container (in fact it is automatically set) so all packets will be stored in the same partition.</p>

<h2 id="events">Events</h2>
<p>The below definition (created by the EventRecorder service) will create a table that uses the generation time, source and sequence number as primary key.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE events(
    gentime TIMESTAMP, 
    source ENUM, 
    seqNum INT, 
    body PROTOBUF('org.yamcs.protobuf.Yamcs$Event'), 
    PRIMARY KEY(
        gentime, 
        source, 
        seqNum
    )
) HISTOGRAM(source) partition by time(gentime) table_format=compressed;
</code></pre></div></div>

<p>Following is a short description of the columns used:</p>

<ul>
  <li>gentime - is the generation time of the command set by the originator</li>
  <li>source - is a string representing the source of the events</li>
  <li>seqNum - is a sequence number provided by the event source. Each source is supposed to keep an independent sequence count for the events it generates.</li>
</ul>

<h2 id="command-history">Command history</h2>
<p>The below definition (created by the CommandHistoryRecorder service) will create a table that uses the generation time, origin and sequence number as primary key:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE cmdhist(
    gentime TIMESTAMP,
    origin STRING,
    seqNum INT,
    cmdName STRING,
    PRIMARY KEY(
        gentime, 
        origin, 
        seqNum
    )
) HISTOGRAM(cmdName) PARTITION BY TIME(gentime) table_format=compressed;
</code></pre></div></div>

<p>Following is a short description of the columns used:</p>

<ul>
  <li>gentime - is the generation time of the command set by the originator</li>
  <li>origin - is a string representing the originator of the command</li>
  <li>seqNum - is a sequence number provided by the originator. Each command originator is supposed to keep an independent sequence count for the commands it sends.</li>
  <li>cmdName - is the XTCE fully qualified name of the command.</li>
</ul>

<p>In addition to these columns, there will be numerous dynamic columns set by the command verifiers, command releasers,etc.</p>

<p>Recording data into this table is setup with the following statements:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INSERT_APPEND INTO cmdhist SELECT * FROM cmdhist_realtime;
INSERT_APPEND INTO cmdhist SELECT * FROM cmdhist_dump;
</code></pre></div></div>

<p>The INSERT_APPEND says that if a tuple with the new key is received on one of the cmdhist_realtime or cmdhist_dump streams, it will be just inserted into the cmdhist table. If however, a tuple with a key that already exists in the table is received, the columns that are new in the newly received tuple are appended to the already existing columns in the table.</p>

<h2 id="alarms">Alarms</h2>

<p>The below definition (created by the AlarmRecorder service) will create a table that uses the trigger time, parameter name and sequence number as primary key:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE alarms(
    triggerTime TIMESTAMP, 
    parameter STRING, 
    seqNum INT, 
    PRIMARY KEY(
        triggerTime, 
        parameter, 
        seqNum
    )
) table_format=compressed;
</code></pre></div></div>

<p>Following is a short description of the columns used:</p>
<ul>
  <li>triggerTime - is the time when the alarm has been triggered. Until an alarm is acknowledged, there will not be a new alarm generated for that parameter (even though it goes back in limits in the meanwhile)</li>
  <li>parameter - the fully qualified XTCE name of the parameter for which the alarm has been triggered.</li>
  <li>seqNum - a sequence number increasing with each new triggered alarm. The sequence number will reset to 0 at Yamcs restart.</li>
</ul>

<h2 id="parameters">Parameters</h2>
<p>The below definition (created by the ParameterRecorder service) will create a table that uses the generation time and sequence number as primary key:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE pp(
    gentime TIMESTAMP,
    ppgroup ENUM, 
    seqNum INT, 
    rectime TIMESTAMP,
    primary key(
        gentime,
        seqNum
    )
) histogram(ppgroup) PARTITION BY TIME_AND_VALUE(gentime,ppgroup) table_format=compressed;
</code></pre></div></div>

<p>Following is a short description of the columns used:</p>

<ul>
  <li>gentime - is the generation time of the command set by the originator.</li>
  <li>ppgroup - is a string used to group parameters. The parameters sharing the same group and the same timestamp are stored together.</li>
  <li>seqNum - is a sequence number supposed to be increasing independently for each group.</li>
  <li>rectime - is the time when the parameters have been received by Yamcs.</li>
</ul>

<p>In addition to these columns that are statically created, the pp table will store columns with the name of the parameter and the type <code class="highlighter-rouge">PROTOBUF(org.yamcs.protobuf.Pvalue$ParameterValue)</code>.</p>

<p>Note that because partitioning by ppgroup is specified, this is also implicitly part of the primary key (but not stored as such in the RocksDB key).</p>



                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Parameter Archive
                      
                    </h2>
                    <p>The parameter archive stores for each parameter tuples of (t<sub>i</sub>, ev<sub>i</sub>, rv<sub>i</sub>, ps<sub>i</sub>) where:</p>

<ul>
  <li>t<sub>i</sub> - is a timestamp when the sample has been taken</li>
  <li>ev<sub>i</sub> - is the engineering value of the parameter at the given time.</li>
  <li>rv<sub>i</sub> - is the engineering value of the parameter at the given time.</li>
  <li>ps<sub>i</sub> - is the parameter status of the parameter at the given time.</li>
</ul>

<p>The parameter status includes things like out of limits (alarms), processing status, etc. XTCE provides a mechanism through which a parameter can change its alarm ranges depending on the context. For this reason we store in the parameter status also the applicable alarm ranges at the given time.</p>

<p>In order to speed up the retrieval, the parameter archive stores data in segments of approximately 70 minutes. That means that all engineering values for one parameter for the 70 minutes are stored together; same for raw values, parameter status and timestamps. More detail about the parameter archive organization can be found in the <a href="../Parameter_Archive_Internals">Parameter Archive Internals</a>.
Having all the data inside one segment of the same type offers possibility for good compression especially if the values don’t change much or at all (as it is often the case).</p>

<p>While this structure is good for fast retrieval, it doesn’t allow updating data very efficiently and in any case not in realtime (like the stream archive does). This is why the parameter archive is filled in batch mode - data is accumulated in memory and flushed to disk periodically. The sections below explain the different filling strategies implemented.</p>

<h3 id="archive-filling">Archive filling</h3>
<p>There are two fillers that can be used to populate parameter archive:</p>

<ul>
  <li>Realtime filling - the RealtimeFillerTask will subscribe to a realtime processor and write to the archive the parameter samples.</li>
  <li>Backfilling - the ArchiveFillerTask will create from time to time replays from the stream archive and write the generated parameters to the archive.</li>
</ul>

<p>Due to the fact that data is stored in segments, one segment being a value in the (key,value) RocksDB, it is not efficient to write one “row” (data corresponding to one timestamp) at a time. It is much more efficient to collect data and write entire or at least partial segments at a time. 
The realtime filler will write the partial segments to the archive at each configurable interval. When retrieving data from the parameter archive, the latest (near realtime) data will be missing from the archive. That’s why Yamcs uses the processor parameter cache to retrieve the near-realtime values.</p>

<p>The backFiller is by default enabled and it can also be used to issue rebuild requests over HTTP. The realtimeFiller has to be enabled in the configuration and the flushInterval (how often to flush the data in the archive) has to be specified. The flushInterval has to be smaller than the duration configured in the parameter cache.
The backFiller is configured with a so called warmupTime (by default 60 seconds) which means that when it performs a replay, it starts the replay earlier by the specified warmupTime amount. The reason is tha if there are any algorithms that depend on some parameters in the past for computing the current value, this should give them the chance to warmup. The data generated during the warmup is not stored in the archive (because it is part of the previous segment).</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Parameter Archive Internals
                      
                    </h2>
                    <h2 id="why-not-store-the-values-on-change-only">Why not store the values on change only?</h2>
<p>As explained <a href="../Parameter_Archive">here</a>, the parameter archive stores for each parameter tuples (t<sub>i</sub>, ev<sub>i</sub>, rv<sub>i</sub>, ps<sub>i</sub>). In Yamcs the timestamp is an 8 bytes long, the raw and engineering values are of usual types (signed/unsigend 32/64 integer, 32/64 floating point, string, boolean, binary) and the parameter status is a protobuf message.</p>

<p>We can notice that in a typical space data stream there are many parameters that do not change very often (like an device ON/OFF status). For these, the space required to store the timestamp can greatly exceed in size the space required for storing the value (if simple compression is used).</p>

<p>In fact since the timestamps are 8 bytes long, they equal or execed in size the parameter values almost in all cases, even for parameters that do change.</p>

<p>To reduce the size of the archive, some parameter archives store the values just when they change with respect to the previous value. Often (like in the device on/off example) the exact timestamps of the samples received in between the changes are not very important. One has to take care that gaps in the data are not mistaken for non-changing parameter values.<br />
Storing the values on change only will reduce the space required not only for the value but also (and more importantly) for the timestamp.</p>

<p>However, we know that more often than not parameters are not sampled individually but in packets or frames, and many (if not all) the parameters from one packet share the same timestamp.</p>

<p>Usually some of the parameters in these packets will be counters or other things that do change with each sample. It follows that at least for storing those ever changing parameter samples, one has to store the timestamps anyway.</p>

<p>This is why, in Yamcs we do not adopt the “store on change only” strategy but a different one: we store the timestamps in one record and make reference to that record from all the parameters sharing those same timestamps. Of course it wouldn’t make any sense to reference one singe timestamp value, instead we store multiple values in a segment and reference the time segment from all value segments that are related to it.</p>

<h2 id="archive-structure">Archive structure</h2>
<p>We have established that the Yamcs parameter archive stores rows of data of shape:
(t, pv<sub>0</sub>, pv<sub>1</sub>, pv<sub>2</sub>,…,  pv<sub>n</sub>)</p>

<p>Where pv<sub>0</sub>, pv<sub>1</sub>, pv<sub>2</sub>..pv<sub>n</sub> are parameter values (for different parameters) all sharing the same timestamp t. One advantage of seeing the data this way is that we do keep together parameters extracted from the same packet (and having the same timestamp). It is sometimes useful for operators to know a sepcific parameter from which packet has been extracted (e.g. which APID, packet ID in a CCSDS packet structure).</p>

<p>The parameter archive partitions the data at two levels:</p>

<ol>
  <li>
    <p>time partitioned in partitions of 2^31 milliseconds duration (=~ 25 days). Each partition is stored in its own ColumnDataFamily in RocksDB (which means separate files and the possibility to remove an entire partition at a time).</p>
  </li>
  <li>
    <p>Inside each partition, data is segmented in segments of 2^22 miliseconds (=~ 70 minutes) duration. One data segment contains all the engineering values or raw values or parameter status for one parameter. A time segment contains all the corresponding timestamps.</p>
  </li>
</ol>

<p>This means that each parameter requires each ~70 minutes three segments for storing the raw, engineering and status plus a segment containing the timestamps. The timestamp segment is shared with other parameters. In order to be able to efficiently compress and work with the data, one segment stores data of one type only.</p>

<p>Each (parameter_fqn, eng_type, raw_type) combination is given an unique 4 bytes parameter_id (fqn= fully qualified name). We do this in order to be able to accomodate changes in parameter definitions in subsequent versions of the mission database (Xtce db).</p>

<p>The parameter_id=0 is reserved for the timestamp.</p>

<p>A ParameterGroup - represents a list of parameter_id which share the same timestamp.
Each ParameterGroup is given a ParameterGroup_id</p>

<p>Column Families
 for storing metadata we have 2 CFs:<br />
   meta_p2pid:  contains the mapping between parameter fully qualified name and parameter_id and type
   meta_pgid2pg: contains the mapping between ParameterGroup_id and parameter_id</p>

<p>For storing parameter values and timestamps we have 1CF per partition: data_<partition_id>.
partition_id is basetimestamp (i.e. the start timetamp of the 2^31 long partitions) in hexadecimal (without 0x in front)</partition_id></p>

<p>Inside the data partitions we store (key,value) records where:
  key: parameter_id, ParameterGroup_id, type, segment_start_time (the type=0,1 or 2 for the eng value, raw value or parameter status)
  value: ValueSegment or TimeSegment (if parameter_id =0)</p>

<p>We can notice from this organization, that inside one partition, the segments containing data for one parameter follows in the rockdsdb files in sequence of engvalue<sub>segment_1</sub>,rawvalue<sub>segment_1</sub>,parameterstatus<sub>segment_1</sub>, engvalue<sub>segment_2</sub>. rawvalue<sub>segment_2</sub>…</p>

<h3 id="segment-encoding">Segment encoding</h3>
<p>The segments are compressed in different ways depending on their types.</p>

<p><strong>SortedTimeSegment</strong> - stores the timestamps as uitn32 deltas from the beginning of the segment. The data is first encoded into deltas of deltas, then it’s zigzag encoded (such that it becomes positive) and then it’s encoded with FastPFOR and VarInt. FastPFOR encodes blocks of 128 bytes so VarInt encoding is used for the remaining data.</p>

<p>Storing timestamps as deltas of deltas helps if the data is sampled at regular intervals (especially by a real-time sytem). In this case the encoded deltas of deltas become very close to 0 and that compresse very well.</p>

<p>Description of the VarInt and zigzag encoding can be found in <a href="https://developers.google.com/protocol-buffers/docs/encoding">Protocol Buffer docs</a>.</p>

<p>Description and implementation of the FastPFOR algorithm can be found <a href="https://github.com/lemire/JavaFastPFOR">here</a>.</p>

<p><strong>IntSegment</strong> - stores int32 or uint32 encoded same way as the time segment.</p>

<p><strong>FloatSegment</strong> - stores 32 bits floating point numbers encoded using the algorithm (very slightly modified to work on 32 bits) described in the <a href="http://www.vldb.org/pvldb/vol8/p1816-teller.pdf">Facebook Gorilla paper</a></p>

<p><strong>ParameterStatusSegment</strong>, <strong>StringSegment</strong> and <strong>BinarySegment</strong> are all stored either raw, as an enumeration, or run-length encoded, depeending on which results in smaller compressed size.</p>

<p><strong>DoubleSegment</strong> and <strong>LongSegment</strong> are only stored as raw for the moment - compression is still to be implemented. For DoubleSegment we can employ the same approach like for 32 bits (since the original approach is in fact designed for compressing 64 bits floating point numbers).</p>

<h3 id="future-work">Future work</h3>
<p><strong>Segment Compression</strong>
Compression for DoubleSegment and the LongSegment. DoubleSegment is straightforward, for the LongSegment one has to dig into the FastPFOR algorithm to understand how to change it for 64 bits.</p>

<p><strong>Archive filling</strong>
It would be desirable to backfill only parts of the archive. Indeed, some ground generated data may not suffer necessarily of gaps and could be just realtime filled. Currently there is no possibility to specify what parts of the archive to be back-filled. This may be implemented in a future version.
Another useful feature would be to trigger the back filling automatically when gaps are filled in the stream archive. This will hopefully also be implemented in a future version  (contributions welcome!).</p>


                    
                    
              
            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Global Services
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                

                

            
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc">
                      
                        Artemis Server
                      
                    </h2>
                    <p>Initializes and starts an embedded instance of the Artemis messaging server. This can be used to connect streams across Yamcs installations.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/artemis/ArtemisServer.html"><tt>org.yamcs.artemis.ArtemisServer</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This is a global service defined in <tt>etc/yamcs.yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.artemis.ArtemisServer</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">configFile</td>
    <td class="code">string</td>
    <td>
      Filename of the XML configuration file that contains further configuration options. Do not use an absolute path. The file must exist in the <tt>/opt/yamcs/etc</tt> folder. Default: <tt>artemis.xml</tt>.
    </td>
  </tr>
  <tr>
    <td class="code">securityManager</td>
    <td class="code">string</td>
    <td>Class name of a <tt>org.apache.activemq.artemis.spi.core.security.ActiveMQSecurityManager</tt> implementation. The implementation should have a no-arg constructor. If unspecified, security is not enabled.</td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        HTTP Server
                      
                    </h2>
                    <p>Embedded HTTP server that provides these functionalities:</p>

<ul>
  <li>Serve HTTP API (REST and WebSocket)</li>
  <li>Serve the Yamcs web interface</li>
</ul>

<p>The HTTP Server is tightly integrated with the security system of Yamcs and serves as the default interface for external tooling wanting to integrate. This covers both server-to-server and server-to-user communication patterns.</p>

<p>The HTTP Server can be disabled when its functionality is not needed. Note that in this case also official external clients such as Yamcs Studio will not be able to connect to Yamcs.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/web/HttpServer.html"><tt>org.yamcs.web.HttpServer</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This is a global service defined in <tt>etc/yamcs.yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.web.HttpServer</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">webRoot</span><span class="pi">:</span> <span class="s">lib/yamcs-web</span>
      <span class="na">port</span><span class="pi">:</span> <span class="s">8090</span>
      <span class="na">webSocket</span><span class="pi">:</span>
        <span class="na">writeBufferWaterMark</span><span class="pi">:</span>
          <span class="na">low</span><span class="pi">:</span> <span class="s">32768</span>
          <span class="na">high</span><span class="pi">:</span> <span class="s">65536</span>
        <span class="na">connectionCloseNumDroppedMsg</span><span class="pi">:</span> <span class="s">5</span>
      <span class="na">cors</span><span class="pi">:</span>
        <span class="na">allowOrigin</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*"</span>
        <span class="na">allowCredentials</span><span class="pi">:</span> <span class="no">false</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">port</td>
    <td class="code">integer</td>
    <td>The port at which Yamcs web services may be reached. Default: <tt>8090</tt></td>
  </tr>
  <tr>
    <td class="code">webRoot</td>
    <td class="code">string or string[]</td>
    <td>List of file paths that are statically served. This usually points to the web files for the built-in Yamcs web interface (<tt>lib/yamcs-web</tt>).</td>
  </tr>
  <tr>
    <td class="code">zeroCopyEnabled</td>
    <td class="code">boolean</td>
    <td>Indicates whether zero-copy can be used to optimize non-SSL static file serving. Default: <tt>true</tt></td>
  </tr>
  <tr>
    <td class="code">webSocket</td>
    <td class="code">map</td>
    <td>Configure WebSocket properties. Detailed below. If unset, Yamcs uses sensible defaults.</td>
  </tr>
  <tr>
    <td class="code">cors</td>
    <td class="code">map</td>
    <td>Configure cross-origin resource sharing for the HTTP API. Detailed below. If unset, CORS is not supported.</td>
  </tr>
</table>

<h4 id="websocket-sub-configuration">WebSocket sub-configuration</h4>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">maxFrameLength</td>
    <td class="code">integer</td>
    <td>Maximum frame length in bytes. Default: <tt>65535</tt></td>
  </tr>
  <tr>
    <td class="code">writeBufferWaterMark</td>
    <td class="code">map</td>
    <td>Water marks for the write buffer of each WebSocket connection. When the buffer is full, messages are dropped. High values lead to increased memory use, but connections will be more resilient against unstable networks (i.e. high jitter). Increasing the values also help if a large number of messages are generated in bursts. The map requires keys <tt>low</tt> and <tt>high</tt> indicating the low/high water mark in bytes.<br />
    Default: <tt>{ low: 32768, high: 65536}</tt></td>
  </tr>
  <tr>
    <td class="code">connectionCloseNumDroppedMsg</td>
    <td class="code">integer</td>
    <td>Allowed number of message drops before closing the connection. Default: <tt>5</tt></td>
  </tr>
</table>

<h4 id="cors-sub-configuration">CORS sub-configuration</h4>

<p>CORS (cross-origin resource sharing) facilitates use of the API in client-side applications that run in the browser. CORS is a W3C specification enforced by all major browsers. Details are described at <a href="https://www.w3.org/TR/cors/">https://www.w3.org/TR/cors/</a>. Yamcs simply adds configurable support for some of the CORS preflight response headers.</p>

<p>Note that the embedded web interface of Yamcs does not need CORS enabled, because it shares the same origin as the HTTP API.</p>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">allowOrigin</td>
    <td class="code">string</td>
    <td>Exact string that will be set in the <tt>Access-Control-Allow-Origin</tt> header of the preflight response.</td>
  </tr>
  <tr>
    <td class="code">allowCredentials</td>
    <td class="code">boolean</td>
    <td>Whether the <tt>Access-Control-Allow-Credentials</tt> header of the preflight response is set to true. Default: <tt>false</tt></td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Process Runner
                      
                    </h2>
                    <p>Runs an external process. If this process goes down, a new process instance is started.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/server/ProcessRunner.html"><tt>org.yamcs.server.ProcessRunner</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This is a global service defined in <tt>etc/yamcs.yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.server.ProcessRunner</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">command</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bin/simulator.sh"</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">command</td>
    <td class="code">string or string[]</td>
    <td><strong>Required. </strong> Command (and optional arguments) to run.</td>
  </tr>
  <tr>
    <td class="code">directory</td>
    <td class="code">string</td>
    <td>Set the working directory of the started subprocess. If unspecified, this defaults to the cwd of Yamcs.</td>
  </tr>
  <tr>
    <td class="code">logLevel</td>
    <td class="code">string</td>
    <td>Level at which to log stdout/stderr output. One of <tt>INFO</tt>, <tt>DEBUG</tt>, <tt>TRACE</tt>, <tt>WARN</tt>, <tt>ERROR</tt>. Default: <tt>INFO</tt></td>
  </tr>
  <tr>
    <td class="code">logPrefix</td>
    <td class="code">string</td>
    <td>Prefix to prepend to all logged process output. If unspecified this defaults to '<tt>[COMMAND] </tt>'.</td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        TSE Commander
                      
                    </h2>
                    <p>This service allows dispatching commands to Test Support Equipment (TSE). The instrument must have a remote control interface (Serial, TCP/IP) and should support a text-based command protocol such as SCPI.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tse/TseCommander.html"><tt>org.yamcs.tse.TseCommander</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This is a global service defined in <tt>etc/yamcs.yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tse.TseCommander</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">telnet</td>
    <td class="code">map</td>
    <td><strong>Required. </strong> Configure Telnet properties.<br />Example: <tt>{ port: 8023 }</tt></td>
  </tr>
  <tr>
    <td class="code">tc</td>
    <td class="code">map</td>
    <td><strong>Required. </strong> Configure properties of the TC link.<br />Example: <tt>{ port: 8135 }</tt></td>
  </tr>
  <tr>
    <td class="code">tm</td>
    <td class="code">map</td>
    <td><strong>Required. </strong> Configure properties of the TM link.<br />Example: <tt>{ host: localhost, port: 31002 }</tt></td>
  </tr>
</table>

<p>This service reads further configuration options from a file <tt>etc/tse.yaml</tt>. This file defines all the instruments that can be commanded. Example:</p>

<pre class="r header">tse.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">instruments</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">tenma</span>
    <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tse.SerialPortDriver</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">path</span><span class="pi">:</span> <span class="s">/dev/tty.usbmodem14141</span>
      <span class="c1"># Note: this instrument does not terminate responses.</span>
      <span class="c1"># Use a very short timeout to compensate (still within spec)</span>
      <span class="c1"># responseTermination: "\n"</span>
      <span class="na">responseTimeout</span><span class="pi">:</span> <span class="s">100</span>

  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">simulator</span>
    <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tse.TcpIpDriver</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">host</span><span class="pi">:</span> <span class="s">localhost</span>
      <span class="na">port</span><span class="pi">:</span> <span class="s">10023</span>
      <span class="na">responseTermination</span><span class="pi">:</span> <span class="s2">"</span><span class="se">\r\n</span><span class="s">"</span>

  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">rigol</span>
    <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tse.TcpIpDriver</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">host</span><span class="pi">:</span> <span class="s">192.168.88.185</span>
      <span class="na">port</span><span class="pi">:</span> <span class="s">5555</span>
      <span class="na">responseTermination</span><span class="pi">:</span> <span class="s2">"</span><span class="se">\n</span><span class="s">"</span></code></pre></figure>

<p>There are two types of drivers. Both drivers support these base arguments:</p>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">responseTermination</td>
    <td class="code">string</td>
    <td>The character(s) by which the instrument delimits distinct responses. Typicall <tt>\n</tt> or <tt>\r\n</tt>. This may be left unspecified if the instrument does not delimit responses.</td>
  </tr>
  <tr>
    <td class="code">commandSeparation</td>
    <td class="code">string</td>
    <td>The character(s) that indicates when the command will generate multiple <em>distinct</em> responses (delimited by <tt>responseTermination</tt>). For most instruments this should be left unspecified.</td>
  </tr>
  <tr>
    <td class="code">responseTimeout</td>
    <td class="code">integer</td>
    <td>Timeout in milliseconds for a response to arrive. Default: <tt>3000</tt></td>
  </tr>
</table>

<p>In addition each driver supports driver-specific arguments:</p>

<h4 id="tcpip">TCP/IP</h4>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">host</td>
    <td class="code">string</td>
    <td><strong>Required. </strong> The host of the instrument.</td>
  </tr>
  <tr>
    <td class="code">port</td>
    <td class="code">integer</td>
    <td><strong>Required. </strong> The TCP port to connect to.</td>
  </tr>
</table>

<h4 id="serial-port">Serial Port</h4>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">path</td>
    <td class="code">string</td>
    <td><strong>Required. </strong> Path to the device.</td>
  </tr>
  <tr>
    <td class="code">baudrate</td>
    <td class="code">number</td>
    <td>The baud rate for this serial port. Default: 9600</td>
  </tr>
  <tr>
    <td class="code">dataBits</td>
    <td class="code">number</td>
    <td>The number of data bits per word. Default: 8</td>
  </tr>
  <tr>
    <td class="code">parity</td>
    <td class="code">string</td>
    <td>The parity error-detection scheme. One of <tt>odd</tt> or <tt>even</tt>. By default parity is not set.</td>
  </tr>
</table>

<h3 id="mission-database">Mission Database</h3>

<p>The definition of TSE string commands is done in XTCE space systems resorting under <tt>/TSE</tt>. The <tt>/TSE</tt> node is added by defining <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/xtce/TseLoader.html"><tt>org.yamcs.xtce.TseLoader</tt></a> in the MDB loader tree. Example:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">mdb</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">org.yamcs.xtce.TseLoader</span>
    <span class="na">subLoaders</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">sheet</span>
        <span class="na">spec</span><span class="pi">:</span> <span class="s">mdb/tse/simulator.xls</span></code></pre></figure>

<p>The instrument name in <tt>etc/tse.yaml</tt> should match with the name of the a sub space system of /TSE.</p>

<p>The definition of commands and their arguments follows the same approach as non-TSE commands but with some particularities:</p>

<ul>
  <li>
    <p>Each command should have either <tt>QUERY</tt> or <tt>COMMAND</tt> as its parent. These abstract commands are defined by the <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/xtce/TseLoader.html"><tt>org.yamcs.xtce.TseLoader</tt></a>.</p>

    <ul>
      <li>
        <p><tt>QUERY</tt> commands send a text command to the remote instrument and expect a text response. The argument assignments <tt>command</tt> and <tt>response</tt> must both be set to a string template that matches what the instrument expects and returns.</p>
      </li>
      <li>
        <p><tt>COMMAND</tt> commands send a text command to the remote instrument, but no response is expected (or it is simply ignored). Only the argument assignment <tt>command</tt> must be set to a string template matching what the instrument expects.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Each TSE command may define additional arguments needed for the specific command. In the definition of the <tt>command</tt> and <tt>response</tt> string templates you can refer to the value of these arguments by enclosing the argument name in angle brackets. Example: an argument <tt>n</tt> can be dynamically substituted in the string command by referring to it as <tt>&lt;n&gt;</tt>.</p>
  </li>
  <li>
    <p>Additionally you can instruct Yamcs to extract one or more parameter values out of instrument response for a particular command by referring to the parameter name enclosed with backticks. This parameter should be defined in the same space system as the command and use the non-qualified name. The raw type of these parameters should be string.</p>
  </li>
</ul>

<p>To illustrate these concepts with an example, consider this query command defined in the space system <tt>/TSE/simulator</tt>:</p>

<table class="inline">
<tr>
<th>Command name</th>
<th>Parent</th>
<th>Assignments</th>
<th>Arguments</th>
</tr>
<tr>
<td>get_identification</td>
<td>QUERY</td>
<td>
<ul>
<li>command=*IDN?</li>
<li>response=`identification`</li>
</ul>
</td>
<td></td>
</tr>
</table>

<p>When issued, this command will send the string <tt>*IDN?</tt> to the instrument named <tt>simulator</tt>. A string response is expected and is read in its entirity as a value of the parameter <tt>/TSE/simulator/identification</tt>.</p>

<p>The next example shows the definition of a TSE command that uses a dynamic argument in both the command and the response string templates:</p>

<table class="inline">
<tr>
<th>Command name</th>
<th>Parent</th>
<th>Assignments</th>
<th>Arguments</th>
</tr>
<tr>
<td>get_battery_voltage</td>
<td>QUERY</td>
<td>
<ul>
<li>command=:BATTERY&lt;n&gt;:VOLTAGE?</li>
<li>response=`battery_voltage&lt;n&gt;`</li>
</ul>
</td>
<td>n (range 1-3)</td>
</tr>
</table>

<p>When issued with the argument <tt>2</tt>, Yamcs will send the string <tt>:BATTERY2:VOLTAGE?</tt> to the remote instrument and read back the response into the parameter <tt>/TSE/simulator/battery_voltage2</tt>. In this simple case you could alternatively have defined three distinct commands without arguments (one for each battery).</p>

<div class="hint">
<p>When using the option <tt>commandSeparation</tt>, the <tt>response</tt> argument of the command template should use the same separator between the expected responses. For example a query of <tt>:DATE?;:TIME?</tt> with command separator <tt>;</tt> may be matched in the MDB using the pattern: <tt>`date_param`;`time_param`</tt> (regardless of the termination character).</p>
</div>

<h3 id="telnet-interface">Telnet Interface</h3>

<p>For debugging purposes, this service starts a telnet server that allows to directly relay text-based commands to the configured instruments. This bypasses the TM/TC processing chain. Access this interface with an interactive TCP client such as <tt>telnet</tt> or <tt>netcat</tt>.</p>

<p>The server adds additional SCPI-like commands which allow to switch to any of the configured instruments in a single session. This is best explained via an example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ nc localhost 8023
:tse:instrument rigol
*IDN?
RIGOL TECHNOLOGIES,DS2302A,DS2D155201382,00.03.00
:cal:date?;time?
2018,09,14;21,33,41
:tse:instrument tenma
*IDN?
TENMA72-2540V2.0
VOUT1?
00.00
:tse:output:mode hex
VOUT1?
30302E3030
</code></pre></div></div>

<p>In this session we interacted with two different instruments (named <tt>rigol</tt> and <tt>tenma</tt>). The commands starting with <tt>:tse</tt> were directly interpreted by the TSE Commander, everything else was sent to the selected instrument.</p>


                    
                    
              
            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Instance Services
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                

                

            
              
                
                
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc">
                      
                        Alarm Recorder
                      
                    </h2>
                    <p>Records alarms. This service stores the data coming from one or more streams into a table <tt>alarms</tt>.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/archive/AlarmRecorder.html"><tt>org.yamcs.archive.AlarmRecorder</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.archive.AlarmRecorder</span>

<span class="na">streamConfig</span><span class="pi">:</span>
  <span class="na">alarm</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">alarms_realtime</span></code></pre></figure>

<p>With this configuration alarms emitted to the <tt>alarms_realtime</tt> stream are stored into the table <tt>alarms</tt>.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Artemis Command History Publisher
                      
                    </h2>
                    <p>Publish <tt>cmdhist</tt> stream data to an Artemis broker.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/artemis/ArtemisCmdHistoryService.html"><tt>org.yamcs.artemis.ArtemisCmdHistoryService</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.artemis.ArtemisCmdHistoryService</span>
    <span class="na">args</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">cmdhist_realtime</span><span class="pi">,</span> <span class="nv">cmdhist_dump</span><span class="pi">]</span></code></pre></figure>

<p><tt>args</tt> must be a an array of strings indicating which streams to publish. For each stream the target address is composed as <code class="highlighter-rouge">instance.stream</code>. In the example tuples from the streams <tt>cmdhist_realtime</tt> and <tt>cmdhist_dump</tt> are published to the addresses <tt>simulator.cmdhist_realtime</tt> and <tt>simulator.cmdhist_dump</tt> respectively.</p>

<p>By default, messages are published to an embedded broker (in-VM). This assumes that <a href="../Artemis_Server/">Artemis Server</a> was configured as a global service. In order to use an external broker you can configure the property <tt>artemisUrl</tt> in either <tt>etc/yamcs.(instance).yaml</tt> or <tt>etc/yamcs.yaml</tt>:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">artemisUrl</span><span class="pi">:</span> <span class="s">tcp://remote-host1:5445</span></code></pre></figure>

<pre class="r header">yamcs.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">artemisUrl</span><span class="pi">:</span> <span class="s">tcp://remote-host1:5445</span></code></pre></figure>

<p>If defined, the instance-specific configuration is selected over the global configuration. The URL format follows Artemis conventions and is not further detailed in this manual.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Artemis Event Publisher
                      
                    </h2>
                    <p>Publish <tt>event</tt> stream data to an Artemis broker.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/artemis/ArtemisEventService.html"><tt>org.yamcs.artemis.ArtemisEventService</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.artemis.ArtemisEventService</span>
    <span class="na">args</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">events_realtime</span><span class="pi">,</span> <span class="nv">events_dump</span><span class="pi">]</span></code></pre></figure>

<p><tt>args</tt> must be a an array of strings indicating which streams to publish. For each stream the target address is composed as <code class="highlighter-rouge">instance.stream</code>. In the example tuples from the streams <tt>events_realtime</tt> and <tt>events_dump</tt> are published to the addresses <tt>simulator.events_realtime</tt> and <tt>simulator.events_dump</tt> respectively.</p>

<p>By default, messages are published to an embedded broker (in-VM). This assumes that <a href="../Artemis_Server/">Artemis Server</a> was configured as a global service. In order to use an external broker you can configure the property <tt>artemisUrl</tt> in either <tt>etc/yamcs.(instance).yaml</tt> or <tt>etc/yamcs.yaml</tt>:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">artemisUrl</span><span class="pi">:</span> <span class="s">tcp://remote-host1:5445</span></code></pre></figure>

<pre class="r header">yamcs.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">artemisUrl</span><span class="pi">:</span> <span class="s">tcp://remote-host1:5445</span></code></pre></figure>

<p>If defined, the instance-specific configuration is selected over the global configuration. The URL format follows Artemis conventions and is not further detailed in this manual.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Artemis Parameter Publisher
                      
                    </h2>
                    <p>Publish <tt>param</tt> stream data to an Artemis broker.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/artemis/ArtemisPpService.html"><tt>org.yamcs.artemis.ArtemisPpService</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.artemis.ArtemisPpService</span>
    <span class="na">args</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">pp_realtime</span><span class="pi">,</span> <span class="nv">pp_dump</span><span class="pi">,</span> <span class="nv">sys_param</span><span class="pi">]</span></code></pre></figure>

<p><tt>args</tt> must be a an array of strings indicating which streams to publish. For each stream the target address is composed as <code class="highlighter-rouge">instance.stream</code>. In the example tuples from the streams <tt>pp_realtime</tt>, <tt>pp_dump</tt> and <tt>pp_dump</tt> are published to the addresses <tt>simulator.pp_realtime</tt>, <tt>simulator.pp_dump</tt> and <tt>simulator.pp_sys_param</tt> respectively.</p>

<p>By default, messages are published to an embedded broker (in-VM). This assumes that <a href="../Artemis_Server/">Artemis Server</a> was configured as a global service. In order to use an external broker you can configure the property <tt>artemisUrl</tt> in either <tt>etc/yamcs.(instance).yaml</tt> or <tt>etc/yamcs.yaml</tt>:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">artemisUrl</span><span class="pi">:</span> <span class="s">tcp://remote-host1:5445</span></code></pre></figure>

<pre class="r header">yamcs.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">artemisUrl</span><span class="pi">:</span> <span class="s">tcp://remote-host1:5445</span></code></pre></figure>

<p>If defined, the instance-specific configuration is selected over the global configuration. The URL format follows Artemis conventions and is not further detailed in this manual.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Artemis TM Publisher
                      
                    </h2>
                    <p>Publish <tt>tm</tt> stream data to an Artemis broker.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/artemis/ArtemisTmService.html"><tt>org.yamcs.artemis.ArtemisTmService</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.artemis.ArtemisTmService</span>
    <span class="na">args</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">tm_realtime</span><span class="pi">,</span> <span class="nv">tm_dump</span><span class="pi">]</span></code></pre></figure>

<p><tt>args</tt> must be a an array of strings indicating which streams to publish. For each stream the target address is composed as <code class="highlighter-rouge">instance.stream</code>. In the example tuples from the streams <tt>tm_realtime</tt> and <tt>tm_dump</tt> are published to the addresses <tt>simulator.tm_realtime</tt> and <tt>simulator.tm_dump</tt> respectively.</p>

<p>By default, messages are published to an embedded broker (in-VM). This assumes that <a href="../Artemis_Server/">Artemis Server</a> was configured as a global service. In order to use an external broker you can configure the property <tt>artemisUrl</tt> in either <tt>etc/yamcs.(instance).yaml</tt> or <tt>etc/yamcs.yaml</tt>:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">artemisUrl</span><span class="pi">:</span> <span class="s">tcp://remote-host1:5445</span></code></pre></figure>

<pre class="r header">yamcs.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">artemisUrl</span><span class="pi">:</span> <span class="s">tcp://remote-host1:5445</span></code></pre></figure>

<p>If defined, the instance-specific configuration is selected over the global configuration. The URL format follows Artemis conventions and is not further detailed in this manual.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Command History Recorder
                      
                    </h2>
                    <p>Records command history entries. This service stores the data coming from one or more streams into a table <tt>cmdhist</tt>.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/archive/CommandHistoryRecorder.html"><tt>org.yamcs.archive.CommandHistoryRecorder</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.archive.CommandHistoryRecorder</span>

<span class="na">streamConfig</span><span class="pi">:</span>
  <span class="na">event</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">cmdhist_realtime</span>
    <span class="pi">-</span> <span class="s">cmdhist_dump</span></code></pre></figure>

<p>With this configuration events emitted to the <tt>cmdhist_realtime</tt> or <tt>cmdhist_dump</tt> stream are stored into the table <tt>cmdhist</tt>.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Data Link Initialiser
                      
                    </h2>
                    <p>Manages the various data links and creates needed streams during Yamcs start-up.</p>

<p>Data Links represent data connections to external sources. These connections may represent output flows (TC), input flows (TM, PP) or a combination of these. Data links that read TM and PP data receive telemetry packets or parameters and inject them into the realtime or dump TM or PP streams. Data links that send TC subscribe to a TC stream and send data to external systems.</p>

<p>Note that any Yamcs Service can connect to external sources and inject data in the streams. Data links however, can report on their status using a predefined interface and can also be controlled to connect or disconnect from their data source.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/DataLinkInitialiser.html"><tt>org.yamcs.tctm.DataLinkInitialiser</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tctm.DataLinkInitialiser</span>

<span class="na">dataLinks</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">tm_realtime</span>
    <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tctm.TcpTmDataLink</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">stream</span><span class="pi">:</span> <span class="s">tm_realtime</span>
      <span class="na">host</span><span class="pi">:</span> <span class="s">localhost</span>
      <span class="na">port</span><span class="pi">:</span> <span class="s">10015</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">tm_dump</span>
    <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tctm.TcpTmDataLink</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">stream</span><span class="pi">:</span> <span class="s">tm_dump</span>
      <span class="na">host</span><span class="pi">:</span> <span class="s">localhost</span>
      <span class="na">port</span><span class="pi">:</span> <span class="s">10115</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">udp_realtime</span>
    <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tctm.UdpTmDataLink</span>
    <span class="na">args</span><span class="pi">:</span> 
      <span class="na">stream</span><span class="pi">:</span> <span class="s">tm_realtime</span>
      <span class="na">port</span><span class="pi">:</span> <span class="s">5900</span>
      <span class="na">maxLength</span><span class="pi">:</span> <span class="s">2048</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">tc_realtime</span>
    <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tctm.TcpTcDataLink</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">stream</span><span class="pi">:</span> <span class="s">tc_realtime</span>
      <span class="na">host</span><span class="pi">:</span> <span class="s">localhost</span>
      <span class="na">port</span><span class="pi">:</span> <span class="s">10025</span></code></pre></figure>

<p>Each link is defined in terms of an identifying name and a class. There is also a property <tt>enabledAtStartup</tt> which allows to enable (default) or disable the TM provider for connecting to the external data source at the server start-up.</p>

<p>Specific data links may support additional arbitrary configuration options via the <tt>args</tt> key.</p>


                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              Artemis Parameter Data Link
                            
                          </h3>
                          <p>Reads <tt>param</tt> data from an Artemis queue and publishes it to the configured stream.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/ArtemisParameterDataLink.html"><tt>org.yamcs.tctm.ArtemisParameterDataLink</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">stream</td>
    <td class="code">string</td>
    <td><b>Required.</b> The stream where data is emitted</td>
  </tr>
  <tr>
    <td class="code">address</td>
    <td class="code">string</td>
    <td>
      Artemis address to bind to.
    </td>
  </tr>
</table>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              Artemis TM Data Link
                            
                          </h3>
                          <p>Reads <tt>tm</tt> data from an Artemis queue and publishes it to the configured stream.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/ArtemisTmDataLink.html"><tt>org.yamcs.tctm.ArtemisTmDataLink</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">stream</td>
    <td class="code">string</td>
    <td><b>Required.</b> The stream where data is emitted</td>
  </tr>
  <tr>
    <td class="code">address</td>
    <td class="code">string</td>
    <td>
      Artemis address to bind to.
    </td>
  </tr>
  <tr>
    <td class="code">preserveIncomingReceptionTime</td>
    <td class="code">boolean</td>
    <td>
      When <tt>true</tt> incoming reception times are preserved. When <tt>false</tt> each packet is tagged with a fresh reception timestamp. Default: <tt>false</tt>
    </td>
  </tr>
</table>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              File Polling TM Data Link
                            
                          </h3>
                          <p>Reads data from files in a directory, importing it into the configured stream. The directory is polled regularly for new files and the files are imported one by one. After the import, the file is removed.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/FilePollingTmDataLink.html"><tt>org.yamcs.tctm.FilePollingTmDataLink</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">stream</td>
    <td class="code">string</td>
    <td><b>Required.</b> The stream where data is emitted</td>
  </tr>
  <tr>
    <td class="code">incomingDir</td>
    <td class="code">string</td>
    <td>
      The directory where the data will be read from. If not specified, the data will be read from <tt>&lt;yamcs-incoming-dir&gt;/&lt;instance&gt;/tm/</tt> where <tt>yamcs-incoming-dir</tt> is the value of the incomingDir property in <tt>etc/yamcs.yaml</tt>.
    </td>
  </tr>
  <tr>
    <td class="code">deleteAfterImport</td>
    <td class="code">boolean</td>
    <td>Remove the file after importing all the data. By default set to true, can be set to false to import the same data again and again.</td>
  </tr>
  <tr>
    <td class="code">delayBetweenPackets</td>
    <td class="code">integer</td>
    <td>When importing a file, wait this many milliseconds after each packet. This option together with the previous one can be used to simulate incoming realtime data.</td>
  </tr>
  <tr>
    <td class="code">packetPreprocessorClassName</td>
    <td class="code">string</td>
    <td>
      Class name of a <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/PacketPreprocessor.html"><tt>PacketPreprocessor</tt></a> implementation. Default is <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/IssPacketPreprocessor.html"><tt>org.yamcs.tctm.IssPacketPreprocessor</tt></a> which applies ISS conventions.
    </td>
  </tr>
  <tr>
    <td class="code">packetPreprocessorArgs</td>
    <td class="code">map</td>
    <td>
      Optional args of arbitrary complexity to pass to the PacketPreprocessor. Each PacketPreprocessor may support different options.
    </td>
  </tr>
</table>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              TCP TC Data Link
                            
                          </h3>
                          <p>Sends telecommands via TCP.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/TcpTcDataLink.html"><tt>org.yamcs.tctm.TcpTcDataLink</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">stream</td>
    <td class="code">string</td>
    <td><b>Required.</b> The stream where command instructions are received</td>
  </tr>
  <tr>
    <td class="code">host</td>
    <td class="code">string</td>
    <td><strong>Required.</strong> The host of the TC provider</td>
  </tr>

  <tr>
    <td class="code">port</td>
    <td class="code">integer</td>
    <td><strong>Required.</strong> The TCP port to connect to</td>
  </tr>

  <tr>
    <td class="code">tcQueueSize</td>
    <td class="code">integer</td>
    <td>Limit the size of the queue. Default: unlimited</td>
  </tr>

  <tr>
    <td class="code">tcMaxRate</td>
    <td class="code">integer</td>
    <td>Ensure that on overage no more than <tt>tcMaxRate</tt> commands are issued during any given second. Default: unspecified</td>
  </tr>

  <tr>
    <td class="code">commandPostprocessorClassName</td>
    <td class="code">string</td>
    <td>
      Class name of a <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/CommandPostprocessor.html"><tt>CommandPostprocessor</tt></a> implementation. Default is <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/IssCommandPostprocessor.html"><tt>org.yamcs.tctm.IssCommandPostProcessor</tt></a> which applies ISS conventions.
    </td>
  </tr>

  <tr>
    <td class="code">commandPostprocessorArgs</td>
    <td class="code">map</td>
    <td>
      Optional args of arbitrary complexity to pass to the CommandPostprocessor. Each CommandPostprocessor may support different options.
    </td>
  </tr>
</table>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              TCP TM Data Link
                            
                          </h3>
                          <p>Provides packets received via plain TCP sockets.</p>

<p>In case the TCP connection with the telemetry server cannot be opened or is broken, it retries to connect each 10 seconds.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/TcpTmDataLink.html"><tt>org.yamcs.tctm.TcpTmDataLink</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">host</td>
    <td class="code">string</td>
    <td><b>Required.</b> The host of the TM provider</td>
  </tr>
  <tr>
    <td class="code">port</td>
    <td class="code">integer</td>
    <td><b>Required.</b> The TCP port to connect to</td>
  </tr>
  <tr>
    <td class="code">stream</td>
    <td class="code">string</td>
    <td><b>Required.</b> The stream where data is emitted</td>
  </tr>
  <tr>
    <td class="code">packetInputStreamClassName</td>
    <td class="code">string</td>
    <td>
      Class name of a <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/PacketInputStream.html"><tt>PacketInputStream</tt></a> implementation. Default is <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/CcsdsPacketInputStream.html"><tt>org.yamcs.tctm.CcsdsPacketInputStream</tt></a> which reads CCSDS Packets.
    </td>
  </tr>
  <tr>
    <td class="code">packetInputStreamArgs</td>
    <td class="code">map</td>
    <td>
      Optional args of arbitrary complexity to pass to the PacketInputStream. Each PacketInputStream may support different options.
    </td>
  </tr>
  <tr>
    <td class="code">packetPreprocessorClassName</td>
    <td class="code">string</td>
    <td>
      Class name of a <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/PacketPreprocessor.html"><tt>PacketPreprocessor</tt></a> implementation. Default is <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/IssPacketPreprocessor.html"><tt>org.yamcs.tctm.IssPacketPreprocessor</tt></a> which applies ISS conventions.
    </td>
  </tr>
  <tr>
    <td class="code">packetPreprocessorArgs</td>
    <td class="code">map</td>
    <td>
      Optional args of arbitrary complexity to pass to the PacketPreprocessor. Each PacketPreprocessor may support different options.
    </td>
  </tr>
</table>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              TSE Data Link
                            
                          </h3>
                          <p>Sends telecommands to a configured <a href="/docs/server/TSE_Commander/">TSE Commander</a> and reads back output as processed parameters.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/TseDataLink.html"><tt>org.yamcs.tctm.TseDataLink</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">host</td>
    <td class="code">string</td>
    <td><strong>Required.</strong> The host of the TSE Commander.</td>
  </tr>
  <tr>
    <td class="code">port</td>
    <td class="code">integer</td>
    <td><strong>Required.</strong> The TCP port of the TSE Commander</td>
  </tr>
  <tr>
    <td class="code">tcStream</td>
    <td class="code">string</td>
    <td>Stream where command instructions are received. Default: <tt>tc_tse</tt></td>
  </tr>
  <tr>
    <td class="code">ppStream</td>
    <td class="code">string</td>
    <td>Stream where to emit received parameters. Default: <tt>pp_tse</tt></td>
  </tr>
</table>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              UDP Parameter Data Link
                            
                          </h3>
                          <p>Listens on a UDP port for datagrams containing Protobuf encoded messages. One datagram is equivalent to a message of
type <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/protobuf/Pvalue.ParameterData.html"><tt>org.yamcs.protobuf.Pvalue.ParameterData</tt></a></p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/UdpParameterDataLink.html"><tt>org.yamcs.tctm.UdpParameterDataLink</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">stream</td>
    <td class="code">string</td>
    <td><b>Required.</b> The stream where data is emitted</td>
  </tr>
  <tr>
    <td class="code">port</td>
    <td class="code">integer</td>
    <td><b>Required.</b> The UDP port to listen on</td>
  </tr>
</table>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              UDP TM Data Link
                            
                          </h3>
                          <p>Listens on a UDP port for datagrams containing CCSDS packets. One datagram is equivalent to one packet.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/UdpTmDataLink.html"><tt>org.yamcs.tctm.UdpTmDataLink</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">stream</td>
    <td class="code">string</td>
    <td><b>Required.</b> The stream where data is emitted</td>
  </tr>
  <tr>
    <td class="code">port</td>
    <td class="code">integer</td>
    <td><b>Required.</b> The UDP port to listen on</td>
  </tr>
  <tr>
    <td class="code">maxLength</td>
    <td class="code">integer</td>
    <td>The maximum length of the packets received. If a larger datagram is received, the data will be truncated. Default: 1500 bytes</td>
  </tr>
  <tr>
    <td class="code">packetPreprocessorClassName</td>
    <td class="code">string</td>
    <td>
      Class name of a <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/PacketPreprocessor.html"><tt>PacketPreprocessor</tt></a> implementation. Default is <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/IssPacketPreprocessor.html"><tt>org.yamcs.tctm.IssPacketPreprocessor</tt></a> which applies ISS conventions.
    </td>
  </tr>
  <tr>
    <td class="code">packetPreprocessorArgs</td>
    <td class="code">map</td>
    <td>
      Optional args of arbitrary complexity to pass to the PacketPreprocessor. Each PacketPreprocessor may support different options.
    </td>
  </tr>
</table>

                          
                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Event Recorder
                      
                    </h2>
                    <p>Records events. This service stores the data coming from one or more streams into a table <tt>events</tt>.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/archive/EventRecorder.html"><tt>org.yamcs.archive.EventRecorder</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.archive.EventRecorder</span>

<span class="na">streamConfig</span><span class="pi">:</span>
  <span class="na">event</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">events_realtime</span>
    <span class="pi">-</span> <span class="s">events_dump</span></code></pre></figure>

<p>With this configuration events emitted to the <tt>events_realtime</tt> or <tt>events_dump</tt> stream are stored into the table <tt>events</tt>.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Index Server
                      
                    </h2>
                    <p>Supports retrieval of archive indexes and tags.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/archive/IndexServer.html"><tt>org.yamcs.archive.IndexServer</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.archive.IndexServer</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">tmIndexer</td>
    <td class="code">string</td>
    <td>
      Class name of a <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/archive/TmIndex.html"><tt>TmIndex</tt></a> implementation. Default is <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/archive/CcsdsTmIndex.html"><tt>org.yamcs.archive.CcsdsTmIndex</tt></a> which applies CCSDS conventions.
    </td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Parameter Archive Service
                      
                    </h2>
                    <p>The Parameter Archive stores time ordered parameter values. The parameter archive is column-oriented and is optimized for accessing a (relatively small) number of parameters over longer periods of time.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/parameterarchive/ParameterArchive.html"><tt>org.yamcs.parameterarchive.ParameterArchive</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.parameterarchive.ParameterArchive</span>
    <span class="na">args</span><span class="pi">:</span> 
      <span class="na">realtimeFiller</span><span class="pi">:</span>
        <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">flushInterval</span><span class="pi">:</span> <span class="s">300</span> <span class="c1">#seconds</span>
      <span class="na">backFiller</span><span class="pi">:</span>
        <span class="c1">#warmupTime: 60 seconds default warmupTime</span>
        <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">schedule</span><span class="pi">:</span> <span class="pi">[{</span><span class="nv">startSegment</span><span class="pi">:</span> <span class="nv">10</span><span class="pi">,</span> <span class="nv">numSegments</span><span class="pi">:</span> <span class="nv">3</span><span class="pi">}]</span></code></pre></figure>

<p>This configuration enables the realtime filler flushing the data to the archive each 5 minutes, and in addition the backFiller fills the archive 10 segments (approx 700 minutes) in the past, 3 segments at a time.</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.parameterarchive.ParameterArchive</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">realtimeFiller</span><span class="pi">:</span>
        <span class="na">enabled</span><span class="pi">:</span> <span class="no">false</span>              
      <span class="na">backFiller</span><span class="pi">:</span>
        <span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">warmupTime</span><span class="pi">:</span> <span class="s">120</span> 
        <span class="na">schedule</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="pi">{</span><span class="nv">startSegment</span><span class="pi">:</span> <span class="nv">10</span><span class="pi">,</span> <span class="nv">numSegments</span><span class="pi">:</span> <span class="nv">3</span><span class="pi">}</span>
          <span class="pi">-</span> <span class="pi">{</span><span class="nv">startSegment</span><span class="pi">:</span> <span class="nv">2</span><span class="pi">,</span> <span class="nv">numSegments</span><span class="pi">:</span> <span class="nv">2</span><span class="pi">,</span> <span class="nv">interval</span><span class="pi">:</span> <span class="nv">600</span><span class="pi">}</span></code></pre></figure>

<p>This configuration does not use the realtime filler, but instead performs regular (each 600 seconds) back-fillings of the last two segments. It is the configuration used in the ISS ground segment where due to regular(each 20-30min) LOS (loss of signal), the archive is very fragmented and the only way to obtain continuous data is to perform replays.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Parameter Recorder
                      
                    </h2>
                    <p>Records parameters. This service stores the data coming from one or more streams into a table <tt>pp</tt>. The term <em>pp</em> stands for processed parameter. These are parameters that typically are processed by an external system before being recorded in Yamcs. It is also used to store system parameters that are generated by Yamcs itself.</p>

<div class="hint">
<p>Parameters extracted from packets are usually not stored in <tt>pp</tt>. Instead Yamcs provides a different service called the <a href="/docs/server/Parameter_Archive_Service">Parameter Archive</a> which is specially optimized for data retrieval.</p>
</div>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/archive/ParameterRecorder.html"><tt>org.yamcs.archive.ParameterRecorder</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.archive.ParameterRecorder</span>

<span class="na">streamConfig</span><span class="pi">:</span>
  <span class="na">param</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">pp_realtime</span>
    <span class="pi">-</span> <span class="s">sys_param</span></code></pre></figure>

<p>With this configuration both system parameters and processed parameters coming from the <tt>pp_realtime</tt> stream are stored into the table <tt>pp</tt>.</p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">streams</td>
    <td class="code">list of strings</td>
    <td>The streams to record. When unspecified, all <tt>param</tt> streams defined in <tt>streamConfig</tt> are recorded.</td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Processor Creator Service
                      
                    </h2>
                    <p>Creates persistent processors owned by the system user.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/ProcessorCreatorService.html"><tt>org.yamcs.ProcessorCreatorService</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.ProcessorCreatorService</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">realtime</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">realtime</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">name</td>
    <td class="code">string</td>
    <td><b>Required.</b> The name of the processor</td>
  </tr>
  <tr>
    <td class="code">type</td>
    <td class="code">string</td>
    <td><b>Required.</b> The type of the processor</td>
  </tr>
  <tr>
    <td class="code">config</td>
    <td class="code">string</td>
    <td>Configuration string to pass to the processor</td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Replay Server
                      
                    </h2>
                    <p>This service handles replay requests of archived data. Each replay runs with a separate processor that runs in parallel to the realtime processing.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/archive/ReplayServer.html"><tt>org.yamcs.archive.ReplayServer</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.archive.ReplayServer</span></code></pre></figure>



                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        System Parameters Collector
                      
                    </h2>
                    <p>Collects system parameters from any Yamcs component at a frequency of 1Hz. Parameter values are emitted to the <tt>sys_var</tt> stream.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/parameter/SystemParametersCollector.html"><tt>org.yamcs.parameter.SystemParametersCollector</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.parameter.SystemParametersCollector</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">provideJvmVariables</span><span class="pi">:</span> <span class="no">true</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">provideJvmVariables</td>
    <td class="code">boolean</td>
    <td>When set to <tt>true</tt> this service will create a few system parameters that allows monitoring basic JVM properties such as memory usage and thread count. Default: <tt>false</tt></td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        XTCE TM Recorder
                      
                    </h2>
                    <p>Records XTCE TM sequence containers. This service stores the data coming from one or more streams into a table <tt>tm</tt>.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/archive/XtceTmRecorder.html"><tt>org.yamcs.archive.XtceTmRecorder</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/yamcs.(instance).yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">yamcs.simulator.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.archive.XtceTmRecorder</span>

<span class="na">streamConfig</span><span class="pi">:</span>
  <span class="na">tm</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">tm_realtime</span>
    <span class="pi">-</span> <span class="s">tm_dump</span></code></pre></figure>

<p>With this configuration containers coming from both the tm_realtime and tm_dump streams are stored into the table <tt>tm</tt>.</p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">streams</td>
    <td class="code">list of strings</td>
    <td>The streams to record. When unspecified, all <tt>tm</tt> streams defined in <tt>streamConfig</tt> are recorded.</td>
  </tr>
</table>


                    
                    
              
            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Processor Services
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                

                

            
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc">
                      
                        Alarm Reporter
                      
                    </h2>
                    <p>Generates events for changes in the alarm state of any parameter on the specific processor. Note that this is independent from the actual alarm checking.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/alarms/AlarmReporter.html"><tt>org.yamcs.alarms.AlarmReporter</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/processor.yaml</tt>. Example from a typical deployment:</p>

<pre class="r header">processor.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">realtime</span><span class="pi">:</span>
  <span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.alarms.AlarmReporter</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">source</td>
    <td class="code">string</td>
    <td>The source name of the generated events. Default: <tt>AlarmChecker</tt></td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Algorithm Manager
                      
                    </h2>
                    <p>Executes algorithms and provides output parameters.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/algorithms/AlgorithmManager.html"><tt>org.yamcs.algorithms.AlgorithmManager</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/processor.yaml</tt>. Example:</p>

<pre class="r header">processor.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">realtime</span><span class="pi">:</span>
  <span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.algorithms.AlgorithmManager</span>
      <span class="na">args</span><span class="pi">:</span>
        <span class="na">libraries</span><span class="pi">:</span>
          <span class="na">JavaScript</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s2">"</span><span class="s">mdb/mylib.js"</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">libraries</td>
    <td class="code">map</td>
    <td>Libraries to be included in algorithms. The map points from the scripting language to a list of file paths.</td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Local Parameter Manager
                      
                    </h2>
                    <p>Manages and provides local parameters.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/parameter/LocalParameterManager.html"><tt>org.yamcs.parameter.LocalParameterManager</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/processor.yaml</tt>. Example:</p>

<pre class="r header">processor.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">realtime</span><span class="pi">:</span>
  <span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.parameter.LocalParameterManager</span></code></pre></figure>



                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Replay Service
                      
                    </h2>
                    <p>Provides telemetry packets and processed parameters from the archive.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/ReplayService.html"><tt>org.yamcs.tctm.ReplayService</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/processor.yaml</tt>. Example:</p>

<pre class="r header">processor.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">Archive</span><span class="pi">:</span>
  <span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tctm.ReplayService</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">excludeParameterGroups</td>
    <td class="code">list of strings</td>
    <td>Parameter groups to exclude from being replayed.</td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Stream Parameter Provider
                      
                    </h2>
                    <p>Provides parameters received from the configured <tt>param</tt> stream.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/tctm/StreamParameterProvider.html"><tt>org.yamcs.tctm.StreamParameterProvider</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/processor.yaml</tt>. Example:</p>

<pre class="r header">processor.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">realtime</span><span class="pi">:</span>
  <span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.tctm.StreamParameterProvider</span>
      <span class="na">args</span><span class="pi">:</span>
        <span class="na">stream</span><span class="pi">:</span> <span class="s2">"</span><span class="s">pp_realtime"</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">streams</td>
    <td class="code">list of strings</td>
    <td><strong>Required.</strong> The streams to read.</td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Stream TC Command Releaser
                      
                    </h2>
                    <p>Sends commands to the configured <tt>tc</tt> stream.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/StreamTcCommandReleaser.html"><tt>org.yamcs.StreamTcCommandReleaser</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/processor.yaml</tt>. Example:</p>

<pre class="r header">processor.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">realtime</span><span class="pi">:</span>
  <span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.StreamTcCommandReleaser</span>
      <span class="na">args</span><span class="pi">:</span>
        <span class="na">stream</span><span class="pi">:</span> <span class="s2">"</span><span class="s">tc_realtime"</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">stream</td>
    <td class="code">string</td>
    <td><strong>Required.</strong> The stream to send commands to.</td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        Stream TM Packet Provider
                      
                    </h2>
                    <p>Receives packets from <tt>tm</tt> streams and sends them to the processor for extraction of parameters.</p>

<p>This respects the root container defined as part of the <tt>streamConfig</tt> in <code class="highlighter-rouge">yamcs.yaml</code>.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/StreamTmPacketProvider.html"><tt>org.yamcs.StreamTmPacketProvider</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/processor.yaml</tt>. Example:</p>

<pre class="r header">processor.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">realtime</span><span class="pi">:</span>
  <span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.StreamTmPacketProvider</span>
      <span class="na">args</span><span class="pi">:</span>
        <span class="na">streams</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">tm_realtime"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">tm_dump"</span><span class="pi">]</span></code></pre></figure>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">streams</td>
    <td class="code">list of strings</td>
    <td><strong>Required.</strong> The streams to read.</td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        System Parameter Provider
                      
                    </h2>
                    <p>Provides parameters received from the <tt>sys_param</tt> stream.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/parameter/SystemParametersProvider.html"><tt>org.yamcs.parameter.SystemParametersProvider</tt></a></p>

<h3 id="configuration">Configuration</h3>

<p>This service is defined in <tt>etc/processor.yaml</tt>. Example:</p>

<pre class="r header">processor.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">realtime</span><span class="pi">:</span>
  <span class="na">services</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.parameter.SystemParametersProvider</span></code></pre></figure>



                    
                    
              
            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Logging
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                <p>Yamcs Server writes log output to the directory <code class="highlighter-rouge">/opt/yamcs/log</code>.</p>

<h3 id="yamcs-serverlogx">yamcs-server.log.x</h3>

<p>Log files usually provide the best debug information. These contain log entries that are emitted by any of the Yamcs components with a fine level of detail.</p>

<p>Log files are rotated at 20MB with a maximum of 50 files. The theoretic maximum of disk space is therefore 1GB. <code class="highlighter-rouge">x</code> is a sequence number. The lower the number, the more recent the logs. The most recent log file can always be found at <code class="highlighter-rouge">/opt/yamcs/log/yamcs-server.log.0</code>. Note that when Yamcs Server is restarted the log files will always rotate even if <code class="highlighter-rouge">yamcs-server.log.0</code> had not yet reached 20MB.</p>

<h3 id="yamcs-serveroutx">yamcs-server.out.x</h3>

<p>Out files are directly captured from the process standard output and error streams. The logging level is typically less detailed then with <code class="highlighter-rouge">yamcs-server.log.x</code>, but the files may contain stdout and stderr output which does not make use of Yamcs’ logging system.</p>

<p>Out files are rotated over a maximum of 5 files. There is no size restriction on the file, but since the logging is not so detailed, the files do not grow very large. <code class="highlighter-rouge">x</code> is a sequence number. The lower the number, the more recent the logs. The most recent out file can always be found at <code class="highlighter-rouge">/opt/yamcs/log/yamcs-server.out.0</code>. Note that when Yamcs Server is restarted the out files will always rotate.</p>

<h3 id="configuration">Configuration</h3>

<p>The logging properties of Yamcs Server may be adjusted to your specific situation. This is done by modifying the file <code class="highlighter-rouge">/opt/yamcs/etc/logging.yamcs-server.properties</code>. The file structure is defined by the standard Java logging framework and requires a bit of background with Java development. There are two handlers. A FileHandler defines the properties used for logging to <code class="highlighter-rouge">/opt/yamcs/log/yamcs-server.log.x</code>. A ConsoleHandler can be used to tweak output for logging to <code class="highlighter-rouge">/opt/yamcs/log/yamcs-server.out.x</code>. The rotation of out files is not configured in this file, since this occurs at the level of the init system where the Yamcs process is managed.</p>

<p>Yamcs comes with different log formatters that can be useful in different situations:</p>

<ul>
  <li>
    <p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/CompactFormatter.html"><tt>org.yamcs.CompactFormatter</tt></a> outputs one line per log entry and contains detailed datetime information, thread id, severity, logger name (typically the class of the originating component), a log message and finally an optional stack trace.</p>
  </li>
  <li>
    <p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/ConsoleFormatter.html"><tt>org.yamcs.ConsoleFormatter</tt></a> outputs one line per log entry and is actually more compact than <code class="highlighter-rouge">CompactFormatter</code>. It is especially suited for development of Yamcs or its extensions. Each log entry contains short time information, thread id, short class name, a log message and optionally a stack trace. Some entry fields make use of ANSI color codes for colorized display inside the developer’s terminal.</p>
  </li>
</ul>

                

            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Security
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                <p>Yamcs includes a security subsystem which allows authenticating and authorizing users. Authentication is the act of identifying the user, whereas authorization involves determining what privileges this user has.</p>

<p>Once authorized, the user may be assigned one or more privileges that determine what actions the user can perform. Yamcs distinguishes between system privileges and object privileges.</p>

<h3 id="system-privileges">System Privileges</h3>
<p>A system privilege is the right to perform a particular action or to perform an action on any object of a particular type.</p>

<table class="inline">
  <tr>
  	<th class="code">ControlProcessor</th>
  	<td>Allows to control any processor</td>
  </tr>
  <tr>
    <th class="code">ModifyCommandHistory</th>
    <td>Allows to modify command history</td>
  </tr>
  <tr>
    <th class="code">ControlCommandQueue</th>
    <td>Allows to manage command queues</td>
  </tr>
  <tr>
    <th class="code">Command</th>
    <td>Allows to issue any command</td>
  </tr>
  <tr>
    <th class="code">GetMissionDatabase</th>
    <td>Allows to read the entire MDB</td>
  </tr>
  <tr>
    <th class="code">ControlArchiving</th>
    <td>Allows to manage archiving properties of Yamcs</td>
  </tr>
  <tr>
    <th class="code">ControlLinks</th>
    <td>Allows to control the lifecycle of any data link</td>
  </tr>
  <tr>
    <th class="code">ControlServices</th>
    <td>Allows to manage the lifecycle of services</td>
  </tr>
  <tr>
    <th class="code">ManageAnyBucket</th>
    <td>Provides full control over any bucket (including user buckets)</td>
  </tr>
  <tr>
    <th class="code">ReadEvents</th>
    <td>Allows to read any event</td>
  </tr>
  <tr>
    <th class="code">WriteEvents</th>
    <td>Allows to manually post events</td>
  </tr>
  <tr>
    <th class="code">WriteTables</th>
    <td>Allows to manually add records to tables</td>
  </tr>
  <tr>
    <th class="code">ReadTables</th>
    <td>Allows to read tables</td>
  </tr>
</table>

<div class="hint">
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Yamcs extensions may support additional system privileges.
</code></pre></div></div>
</div>

<h3 id="object-privileges">Object Privileges</h3>
<p>An object privilege is the right to perform a particular action on an object. The object is assumed to be identifiable by a single string. The object may also be expressed as a regular expression, in which case Yamcs will perform pattern matching when doing authorization checks.</p>

<table class="inline">
  <tr>
    <th class="code">Command</th>
	<td>Allows to issue a particular command</td>
  </tr>
  <tr>
    <th class="code">CommandHistory</th>
	<td>Allows access to the command history of a particular command</td>
  </tr>
  <tr>
    <th class="code">InsertCommandQueue</th>
	<td>Allows to insert commands to a particular queue</td>
  </tr>
  <tr>
    <th class="code">ManageBucket</th>
	<td>Allow control over a specific bucket</td>
  </tr>
  <tr>
    <th class="code">ReadPacket</th>
	<td>Allows to read a particular packet</td>
  </tr>
  <tr>
    <th class="code">ReadParameter</th>
	<td>Allows to read a particular parameter</td>
  </tr>
  <tr>
    <th class="code">Stream</th>
	<td>Allow to read and emit to a specific stream</td>
  </tr>
  <tr>
    <th class="code">WriteParameter</th>
	<td>Allows to set the value of a particular parameter</td>
  </tr>
</table>

<div class="hint">
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Yamcs extensions may support additional object privileges.
</code></pre></div></div>
</div>

<h3 id="superuser">Superuser</h3>
<p>A user may have the attribute <tt>superuser</tt>. Such a user is not subject to privilege checking. Any check of any kind will automatically pass. An example of such a user is the <tt>System</tt> user which is used internally by Yamcs on some actions that cannot be tied to a specific user. The <tt>superuser</tt> attribute may also be assigned to end users if the AuthModule supports it.</p>

<h3 id="authmodules">AuthModules</h3>
<p>The security subsystem is modular by design and allows combining different AuthModules together. This allows for scenarios where for example you want to authenticate via LDAP, but determine privileges via YAML files.</p>

<p>The default set of AuthModules include:</p>

<dl>
  <dt>YAML AuthModule</dt>
  <dd>
    Reads Yaml files to verify the credentials of the user, or assign privileges.
  </dd>
  <dt>LDAP AuthModule</dt>
  <dd>
    Attempts to bind to LDAP with the provided credentials. Also capable of reading privileges for the user.
  </dd>
  <dt>SPNEGO AuthModule</dt>
  <dd>
    Supports authenticating against a Kerberos server. This module includes extra support for Single-Sign-On via Yamcs web interface.
  </dd>
</dl>

<p>AuthModules have an order. When a login attempt is made, AuthModules are iterated a first time in this order. Each AuthModule is asked if it can authenticate with the provided credentials. The first matching AuthModule contributes the user principal. A second iteration is done to then contribute privileges to the identified user. During both iterations, AuthModules reserve the right to halt the global login process for any reason.</p>

<div class="hint">
<p>A special note on <i>roles</i>. Yamcs itself does not require roles nor does it keep track of roles on the <a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/security/User.html">User</a> object. Permissions are always verified via user privileges. Specific AuthModules may however introduce roles as a convenience to group sets of privileges together.</p>
</div>

<h3 id="configuration">Configuration</h3>

<p>Example from a typical deployment:</p>

<pre class="r header">security.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">enabled</span><span class="pi">:</span> <span class="no">true</span>

<span class="c1"># Implicit user when security is _not_ enabled</span>
<span class="na">unauthenticatedUser</span><span class="pi">:</span>
  <span class="na">username</span><span class="pi">:</span> <span class="s">admin</span>
  <span class="na">superuser</span><span class="pi">:</span> <span class="no">true</span>

<span class="na">authModules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">class</span><span class="pi">:</span> <span class="s">org.yamcs.security.YamlAuthModule</span>
    <span class="na">config</span><span class="pi">:</span>
      <span class="na">hasher</span><span class="pi">:</span> <span class="s">org.yamcs.security.PBKDF2PasswordHasher</span></code></pre></figure>

<p>These options are supported:</p>

<dl>
  <dt>enabled</dt>
  <dd>Whether security is enabled. If <tt>false</tt> then Yamcs will not require users to login and will assume that everybody shares a single account defined under the <tt>unauthenticatedUser</tt> property.</dd>

  <dt>unauthenticatedUser</dt>
  <dd>Configures the user details of the default user. This property is only considered when <tt>enabled</tt> is set to <tt>false</tt></dd>

  <dt>authModules</dt>
  <dd>List of AuthModules that particpate in the login process. Each AuthModule may support custom configuration options which can be defined under the <tt>config</tt> key.</dd>
</dl>

                

            
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc">
                      
                        YAML AuthModule
                      
                    </h2>
                    <p>The YAML AuthModule supports authentication and authorization of users via YAML files available directly in the <tt>etc/</tt> folder.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/security/YamlAuthModule.html"><tt>org.yamcs.security.YamlAuthModule</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">hasher</td>
    <td class="code">string</td>
    <td>
      Hasher class that can be used to verify if a password is correct without actually storing the password. When omitted, passwords in <tt>users.yaml</tt> should be defined in clear text. Possible values are:
      <ul>
      <li><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/security/PBKDF2PasswordHasher.html"><tt>org.yamcs.security.PBKDF2PasswordHasher</tt></a></li>
      </ul>
    </td>
  </tr>
  <tr>
    <td class="code">required</td>
    <td class="code">boolean</td>
    <td>
      When set to <tt>true</tt> the YAML AuthModule will veto the login process if it does not know the user. This may be of interest in situations where the YAML AuthModule does not authenticate the user, yet still some control is required via configuration files over which users can login. Default is <tt>false</tt>.
    </td>
  </tr>
</table>

<p>The YAML AuthModule reads further configuration from two additional YAML files: <tt>users.yaml</tt> and <tt>roles.yaml</tt>.</p>

<h3 id="usersyaml">users.yaml</h3>

<p>This file defines users, passwords and user roles. Note that Yamcs itself does not use roles, it is however used as a convenience in the YAML AuthModule to reduce the verbosity of user-specific privilege assignments.</p>

<pre class="r header">users.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">admin</span><span class="pi">:</span>
  <span class="na">password</span><span class="pi">:</span> <span class="s">somepassword</span>
  <span class="na">superuser</span><span class="pi">:</span> <span class="no">true</span>

<span class="na">someuser</span><span class="pi">:</span>
  <span class="na">password</span><span class="pi">:</span> <span class="s">somepassword</span>
  <span class="na">roles</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">Operator</span> <span class="pi">]</span></code></pre></figure>

<p>The <tt>password</tt> key may be omitted if the YAML AuthModule is not used for authentication.</p>

<p>If you do use YAML AuthModule for authentication, consider hashing the passwords for better security. Password hashes can be obtained via the command line:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yamcs password-hash
</code></pre></div></div>

<p>This command prompts for the password and outputs a randomly salted PBKDF2 hash. This output can be assigned to the <tt>password</tt> key, replacing the clear password.</p>

<h3 id="rolesyaml">roles.yaml</h3>

<p>This file defines which privileges belong to which roles.</p>

<pre class="r header">roles.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">Operator</span><span class="pi">:</span>
  <span class="na">ReadParameter</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">.*"</span><span class="pi">]</span>
  <span class="na">WriteParameter</span><span class="pi">:</span> <span class="pi">[]</span>
  <span class="na">ReadPacket</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">.*"</span><span class="pi">]</span>
  <span class="na">Command</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">.*"</span><span class="pi">]</span>
  <span class="na">InsertCommandQueue</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">ops"</span><span class="pi">]</span>
  <span class="na">System</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">ControlProcessor</span>
    <span class="pi">-</span> <span class="s">ModifyCommandHistory</span>
    <span class="pi">-</span> <span class="s">ControlCommandQueue</span>
    <span class="pi">-</span> <span class="s">Command</span>
    <span class="pi">-</span> <span class="s">GetMissionDatabase</span>
    <span class="pi">-</span> <span class="s">ControlArchiving</span></code></pre></figure>

<p>This example specifies one role <tt>Operator</tt>. It also demonstrates the use of regular expressions to grant a set of object privileges.</p>

<p>System privileges must be defined under the key <tt>System</tt>. System privileges may not use regular expressions.</p>

<p>All keys are optional so the simplest role definition is simply:</p>

<pre class="r header">roles.yaml </pre>
<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">EmptyRole</span><span class="pi">:</span></code></pre></figure>



                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        LDAP AuthModule
                      
                    </h2>
                    <p>The LDAP AuthModule supports authentication and authorization of users via the LDAP protocol.</p>

<p>This module adds privileges to users through the use of roles: a user has specific roles, and some role is required for a specific privilege. All the user, role and privilege definitions are looked up in the LDAP database. Yamcs reads only LDAP objects of type <tt>groupOfNames</tt>.</p>

<p>The algorithm used to build the list of user privileges is as follows:</p>

<ul>
  <li>From the path configured by <tt>rolePath</tt> find all the roles associated to the user. The roles defined in LDAP must contain references using the member attribute to objects <tt>member=uid=username</tt> from the <tt>userPath</tt>.</li>
  <li>For each role found previously, do a search in the corresponding system, tc, tm packet or tm parameter path using the match <tt>member=cn=role_name</tt>. The cn of the matching entries is used to build the list of privileges that the user has.</li>
</ul>

<div class="hint">
<p>This class can be stacked with other AuthModules such that it is responsible for either authentication or authorization. In the case of authorization read-only access to the LDAP database is assumed.</p>
</div>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/security/LdapAuthModule.html"><tt>org.yamcs.security.LdapAuthModule</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">host</td>
    <td class="code">string</td>
    <td><b>Required.</b> The LDAP host</td>
  </tr>
  <tr>
    <td class="code">userPath</td>
    <td class="code">string</td>
    <td><b>Required.</b> The path to user definitions</td>
  </tr>
  <tr>
    <td class="code">rolePath</td>
    <td class="code">string</td>
    <td>The path to role definitions</td>
  </tr>
  <tr>
    <td class="code">systemPath</td>
    <td class="code">string</td>
    <td>The path to system privileges</td>
  </tr>
  <tr>
    <td class="code">tmParameterPath</td>
    <td class="code">string</td>
    <td>The path to <tt>ReadParameter</tt> object privileges</td>
  </tr>
  <tr>
    <td class="code">tmPacketPath</td>
    <td class="code">string</td>
    <td>The path to <tt>ReadPacket</tt> object privileges</td>
  </tr>
  <tr>
    <td class="code">tcPath</td>
    <td class="code">string</td>
    <td>The path to <tt>Command</tt> object privileges</td>
  </tr>
</table>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        SPNEGO AuthModule
                      
                    </h2>
                    <p>The SPNEGO AuthModule supports authentication of users via an external Kerberos server. It does not support authorization and must therefore be stacked together with another AuthModule.</p>

<h3 id="class-name">Class Name</h3>
<p><a href="https://www.yamcs.org/yamcs/javadoc/index.html?org/yamcs/security/SpnegoAuthModule.html"><tt>org.yamcs.security.SpnegoAuthModule</tt></a></p>

<h3 id="configuration-options">Configuration Options</h3>

<table class="inline">
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Description</th>
  </tr>
  <tr>
    <td class="code">krbRealm</td>
    <td class="code">string</td>
    <td>Accept only users from this realm</td>
  </tr>
  <tr>
    <td class="code">stripRealm</td>
    <td class="code">boolean</td>
    <td>Whether to strip the realm from the username (e.g. 'user@REALM' becomes just 'user'). Use this only when <tt>krbRealm</tt> is also set. Default: <tt>false</tt></td>
  </tr>
  <tr>
    <td class="code">krb5.conf</td>
    <td class="code">string</td>
    <td>Absolute path to the applicable <tt>krb5.conf</tt> file.</td>
  </tr>
  <tr>
    <td class="code">jaas.conf</td>
    <td class="code">string</td>
    <td>Absolute path to the applicable <tt>jaas.conf</tt> file.</td>
  </tr>
</table>

<p>The <code class="highlighter-rouge">jaas.conf</code> file must contain login modules called <tt>UserAuth</tt> and <tt>Yamcs</tt>. Details are beyond the scope of this manual.</p>


                    
                    
              
            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Programs
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                

                

            
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc">
                      
                        yamcsadmin
                      
                    </h2>
                    <div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin &ndash; Tool for local Yamcs administration
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin [--etc-dir DIR] COMMAND
</div>

<div class="man-title">OPTIONS</div>
<div class="man-section">
    <dl>
        <dt class="arg">--etc-dir DIR</dt>
        <dd>Override default Yamcs configuration directory</dd>
        <dt class="arg">-h, --help</dt>
        <dd>Show usage</dd>
        <dt class="arg">-v, --version</dt>
        <dd>Print version information and quit</dd>
    </dl>
</div>

<div class="man-title">COMMANDS</div>
<div class="man-section">
    <dl>
        <dt><a href="/docs/server/yamcsadmin_backup/">backup</a></dt>
        <dd>Perform and restore backups</dd>
        <dt><a href="/docs/server/yamcsadmin_confcheck/">confcheck</a></dt>
        <dd>Check the configuration files of Yamcs</dd>
        <dt><a href="/docs/server/yamcsadmin_parchive/">parchive</a></dt>
        <dd>Parameter Archive operations</dd>
        <dt><a href="/docs/server/yamcsadmin_password-hash/">password-hash</a></dt>
        <dd>Generate password hash for use in users.yaml</dd>
        <dt><a href="/docs/server/yamcsadmin_rocksdb/">rocksdb</a></dt>
        <dd>Provides low-level RocksDB data operations</dd>
        <dt><a href="/docs/server/yamcsadmin_xtcedb/">xtcedb</a></dt>
        <dd>Provides information about the XTCE database</dd>
    </dl>
</div>


                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              yamcsadmin backup
                            
                          </h3>
                          <div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin backup &ndash; Perform and restore backups
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin backup COMMAND
</div>

<div class="man-title">COMMANDS</div>
<div class="man-section">
    <dl>
        <dt class="args">create</dt>
        <dd>Create a new backup</dd>
        <dt class="args">delete</dt>
        <dd>Delete a backup</dd>
        <dt class="args">list</dt>
        <dd>List the existing backups</dd>
        <dt class="args">restore</dt>
        <dd>Restore a backup.</dd>
    </dl>
</div>

<p>&nbsp;</p>

### yamcsadmin backup create

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin backup create &ndash; Create a new backup
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin backup create [--dbDir DIR] [--backupDir DIR]
</div>

<div class="man-title">OPTIONS</div>
<div class="man-section">
    <dl>
        <dt class="arg">--dbDir DIR</dt>
        <dd>Database directory.</dd>
        <dt class="arg">--backupDir DIR</dt>
        <dd>Backup Directory.</dd>
    </dl>
</div>

<p>&nbsp;</p>

### yamcsamdin backup delete

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin backup delete &ndash; Delete a backup
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin backup delete [--backupDir DIR] [--backupId ID]
</div>

<div class="man-title">OPTIONS</div>
<div class="man-section">
    <dl>
        <dt class="arg">--backupDir DIR</dt>
        <dd>Backup Directory.</dd>
        <dt class="arg">--backupId ID</dt>
        <dd>Backup ID.</dd>
    </dl>
</div>

<p>&nbsp;</p>

### yamcsadmin backup list

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin backup list &ndash; List the existing backups
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin backup list [--backupDir DIR]
</div>

<div class="man-title">OPTIONS</div>
<div class="man-section">
    <dl>
        <dt class="arg">--backupDir DIR</dt>
        <dd>Backup Directory.</dd>
    </dl>
</div>

<p>&nbsp;</p>

### yamcsadmin backup restore

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin backup restore &ndash; Restore a backup
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin backup restore [--backupDir DIR] [--backupId ID] [--restoreDir DIR]
</div>

<div class="man-title">DECRIPTION</div>
<div class="man-section">
    Note that backups can only be restored when Yamcs is not running.
</div>

<div class="man-title">OPTIONS</div>
<div class="man-section">
    <dl>
        <dt class="arg">--backupDir DIR</dt>
        <dd>Backup Directory.</dd>
        <dt class="arg">--backupId ID</dt>
        <dd>Backup ID. If not specified, defaults to the last backup</dd>
        <dt class="arg">--restoreDir DIR</dt>
        <dd>Directory where to restore the backup</dd>
    </dl>
</div>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              yamcsadmin confcheck
                            
                          </h3>
                          <div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin confcheck &ndash; Check the configuration files of Yamcs
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin confcheck [--no-etc] [DIR]
</div>

<div class="man-title">POSITIONAL ARGUMENTS</div>
<div class="man-section">
    <dl>
        <dt class="arg">[DIR]</dt>
        <dd>
            Use this directory in preference for loading configuration files. If --no-etc is specified, all configuration files will be loaded from this directory. Note that the data directory (yamcs.yaml dataDir) will be changed before starting the services, otherwise there will be RocksDB LOCK errors if a yamcs server is running.
        </dd>
    </dl>
</div>

<div class="man-title">OPTIONS</div>
<div class="man-section">
    <dl>
        <dt class="arg">--no-etc</dt>
        <dd>
            Do not use any file from the default Yamcs etc directory. If this is specified, the argument config-dir becomes mandatory.
        </dd>
    </dl>
</div>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              yamcsadmin parchive
                            
                          </h3>
                          <div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin parchive &ndash; Parameter Archive operations
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin parchive --instance INSTANCE COMMAND
</div>

<div class="man-title">OPTIONS</div>
<div class="man-section">
    <dl>
        <dt class="arg">--instance INSTANCE</dt>
        <dd>Yamcs instance.</dd>
    </dl>
</div>

<div class="man-title">COMMANDS</div>
<div class="man-section">
    <dl>
        <dt class="arg">print-pid</dt>
        <dd>Print parameter name to parameter id mapping</dd>
        <dt class="arg">print-pgid</dt>
        <dd>Print parameter group compositions</dd>
    </dl>
</div>

<p>&nbsp;</p>

### yamcsadmin parchive print-pid

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin parchive print-pid &ndash; Print parameter name to parameter id mapping
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin parchive print-pid
</div>

<p>&nbsp;</p>

### yamcsadmin parchive print-pgid

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin parchive print-pgid &ndash; Print parameter group compositions
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin parchive print-pgid
</div>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              yamcsadmin password-hash
                            
                          </h3>
                          <div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin password-hash &ndash; Generate password hash for use in users.yaml
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin password-hash
</div>

<div class="man-title">DESCRIPTION</div>
<div class="man-section">
    Promps to enter and confirm a password, and generates a randomly salted PBKDF2 hash of this password. This hash may be used in users.yaml instead of the actual password, and allows verifying user passwords without storing them.
</div>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              yamcsadmin rocksdb
                            
                          </h3>
                          <div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin rocksdb &ndash; Provides low-level RocksDB data operations
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin rocksdb COMMAND
</div>

<div class="man-title">COMMANDS</div>
<div class="man-section">
    <dl>
        <dt class="arg">compact</dt>
        <dd>Compact rocksdb database</dd>
        <dt class="arg">bench</dt>
        <dd>Benchmark rocksdb storage engine</dd>
    </dl>
</div>

<p>&nbsp;</p>

### yamcsadmin rocksdb compact

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin rocksdb compact &ndash; Compact rocksdb database
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin rocksdb compact [--dbDir DIR] [--sizeMB SIZE]
</div>

<div class="man-title">OPTIONS</div>
<div class="man-section">
    <dl>
        <dt class="arg">--dbDir DIR</dt>
        <dd>Database directory.</dd>
        <dt class="arg">--sizeMB SIZE</dt>
        <dd>Target size of each SST file in MB (default is 256 MB).</dd>
    </dl>
</div>

<p>&nbsp;</p>

### yamcsadmin rocksdb bench

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin rocksdb bench &ndash; Benchmark rocksdb storage engine
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin rocksdb bench [--dbDir DIR] [--baseTime TIME] [--count COUNT]<br>
    &nbsp;&nbsp;&nbsp;&nbsp;[--duration HOURS]
</div>

<div class="man-title">OPTIONS</div>
<div class="man-section">
    <dl>
        <dt class="arg">--dbDir DIR</dt>
        <dd>Directory where the database will be created. A "rocksbench" archive instance wll be created in this directory</dd>
        <dt class="arg">--baseTime TIME</dt>
        <dd>Start inserting data with this time. Default: 2017-01-01T00:00:00</dd>
        <dt class="arg">--count COUNT</dt>
        <dd>The partition counts for the 5 frequencies: [10/sec, 1/sec, 1/10sec, 1/60sec and 1/hour]. It has to be specified as a string (use quotes).</dd>
        <dt class="arg">--duration HOURS</dt>
        <dd>The duration in hours of the simulated data. Default: 24</dd>
    </dl>
</div>

<div class="man-title">DESCRIPTION</div>
<div class="man-section">
     The benchmark consists of a table load and a few selects. The table is loaded with telemetry packets received at frequencies of [10/sec, 1/sec, 1/10sec, 1/60sec and 1/hour]. The table will be identical to the tm table and will contain a histogram on pname (=packet name). It is possible to specify how many partitions (i.e. how many different pnames) to be loaded for each frequency and the time duration of the data.
</div>

                          
                    
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                        
                          <h3 class="toc">
                            
                              yamcsadmin xtcedb
                            
                          </h3>
                          <div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin xtcedb &ndash; Provides information about the XTCE database
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin xtcedb [-f FILE] COMMAND
</div>

<div class="man-title">OPTIONS</div>
<div class="man-section">
    <dl>
        <dt class="arg">-f FILE</dt>
        <dd>Use this file instead of default mdb.yaml</dd>
    </dl>
</div>

<div class="man-title">COMMANDS</div>
<div class="man-section">
    <dl>
        <dt class="arg">listConfigs</dt>
        <dd>List the MDB configurations defined in mdb.yaml</dd>
        <dt class="arg">print</dt>
        <dd>Print the contents of the XTCE DB</dd>
        <dt class="arg">verify</dt>
        <dd>Verify that the XTCE DB can be loaded</dd>
    </dl>
</div>

<p>&nbsp;</p>

### yamcsadmin xtcedb listConfigs

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin xtcedb listConfigs &ndash; List the MDB configurations defined in mdb.yaml
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin xtcedb listConfigs
</div>

<p>&nbsp;</p>

### yamcsadmin xtcedb print

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin xtcedb print &ndash; Print the contents of the XTCE DB
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin xtcedb print CONFIG
</div>

<div class="man-title">POSITIONAL ARGUMENTS</div>
<div class="man-section">
    <dl>
        <dt class="arg">CONFIG</dt>
        <dd>Config name.</dd>
    </dl>
</div>

<p>&nbsp;</p>

### yamcsadmin xtcedb verify

<div class="man-title">NAME</div>
<div class="man-section">
    yamcsadmin xtcedb verify &ndash; Verify that the XTCE DB can be loaded
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsadmin xtcedb verify CONFIG
</div>

<div class="man-title">POSITIONAL ARGUMENTS</div>
<div class="man-section">
    <dl>
        <dt class="arg">CONFIG</dt>
        <dd>Config name.</dd>
    </dl>
</div>

                          
                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        yamcsd
                      
                    </h2>
                    <div class="man-title">NAME</div>
<div class="man-section">
    yamcsd &ndash; Yamcs Server
</div>

<div class="man-title">SYNOPSIS</div>
<div class="man-synopsis">
    yamcsd
</div>

<div class="man-title">DESCRIPTION</div>
<div class="man-section">
    yamcsd is the main program in a Yamcs installation, and is generally referred to as Yamcs Server. When Yamcs Server starts, it activates data links and starts listening for network connections from client programs.
</div>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        yamcs-server init script
                      
                    </h2>
                    Yamcs distributions include an init script for starting and stopping Yamcs Server in System V-style.

This script is located at <tt>/etc/init.d/yamcs-server</tt> and should not be run directly but instead via your system's service manager. This will perform proper stepdown to the <tt>yamcs</tt> user.

For example:

    systemd start|stop|restart|status yamcs-server

Or alternatively:

    service yamcs-server start|stop|restart|status


The init script accepts these commands:

<dl>
    <dt class="code">start</dt>
    <dd>
        Starts Yamcs Server and stores the PID of the yamcsd process to <tt>/var/run/yamcs-server.pid</tt>
    </dd>
    <dt class="code">stop</dt>
    <dd>
        Stops the Yamcs Server process based on the PID found in <tt>/var/run/yamcs-server.pid</tt>
    </dd>
    <dt class="code">restart</dt>
    <dd>
        Stops Yamcs Server if it is running, then starts it again.
    </dd>
    <dt class="code">status</dt>
    <dd>
        Checks if Yamcs Server is currently running. This does a PID check and will not detect a Yamcs Server runtime that has been started on the system without use of this init script.
    </dd>
</dl>


                    
                    
              
            
          
            <h1 class="toc newpage">
              
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    Web Interface
                    
              
            </h1>

            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
            
              
                <p>Yamcs includes a web interface which provides quick access and control over many of its features. The web interface runs on port 8090 and integrates with the security system of Yamcs.</p>

<p>The web interface is separated in three different modules:</p>

<ul>
  <li><em>Monitor</em> provides typical monitoring capabilities (displays, events, …)</li>
  <li><em>MDB</em> provides an overview of the Mission Database (parameters, containers, …)</li>
  <li><em>System</em> provides administrative controls over Yamcs (tables, services, …).</li>
</ul>

<p>All modules are aware of the privileges of the logged in user and will hide user interface elements that the user has no permission for. For normal operations access to the Monitor and MDB section should be sufficient.</p>

<p>Most pages (the homepage excluding) show data specific to a particular Yamcs instance. The current instance is always indicated in the top bar. To switch to a different location either return to the homepage, or use the quick-switch dialog in the top bar. When switching instances the user is always redirect to the default page for that instance (i.e. the Display overview).</p>

                

            
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc">
                      
                        Monitor
                      
                    </h2>
                    <p>The Monitor module within the Yamcs web interface provides typical operational views.</p>

<p>The Monitor Module is always visited for a specific Yamcs instance and processor. Every view has in the top right corner an indicator that shows the current processor and that shows the time for that processor. From this widget, you can choose to start a replay of past data. When that happens, you will switch to this replay processor and would see the widget reflecting the replay time.</p>

<h3 id="displays">Displays</h3>

<p>Shows the displays or display resources that are known by Yamcs Server for the selected instance. The displays in this view are presented in a file browser with the usual operations to rename, move or create. Clicking on a display file opens the display. If there is incoming telemetry this will be received by the opened display file.</p>

<p>Note that only some display types are supported by the Yamcs web interface. The following provides an overview of the current state:</p>

<table class="inline">
  <tr>
    <th>Extension</th>
    <th>Display type</th>
    <th>View</th>
    <th>Edit</th>
  </tr>
  <tr>
    <td><tt>opi</tt></td>
    <td>Yamcs Studio displays</td>
    <td>Planned</td>
    <td>No plans to support<br />(use Yamcs Studio)</td>
  </tr>
  <tr>
    <td><tt>uss</tt></td>
    <td>USS displays</td>
    <td>Advanced support</td>
    <td>No plans to support<br />(use USS Editor)</td>
  </tr>
  <tr>
    <td><tt>par</tt></td>
    <td>Parameter tables</td>
    <td>Full support</td>
    <td>Full support</td>
  </tr>
</table>

<p>In addition there is file preview support for the following display resources:</p>

<table class="inline">
  <tr>
    <th>Extension</th>
    <th>Resource type</th>
    <th>View</th>
    <th>Edit</th>
  </tr>
  <tr>
    <td><tt>png</tt>, <tt>gif</tt>, <tt>bmp</tt>, <tt>jpg</tt>, <tt>jpeg</tt></td>
    <td>Image</td>
    <td>Full support</td>
    <td>No plans to support</td>
  </tr>
  <tr>
    <td><tt>js</tt></td>
    <td>Script file</td>
    <td>Full support</td>
    <td>Planned</td>
  </tr>
</table>

<p>Any other file is displayed in a basic text viewer.</p>

<p>Displays may be visualized in full screen, which helps remove distractions. This will not scale the display, so make use of the zoom in/out buttons before going full screen if you would like your display to appear larger.</p>

<h3 id="layouts">Layouts</h3>

<p>A layout allows to combine multiple displays in a single view. This is particularly useful if your displays are small. Layouts are personal and are linked to your user account. Create a layout via the “Create Layout” button in the toolbar. Open any number of displays via the sidebar and organize them together. Click “Save” when you want to save the changes to your layout for later use.</p>

<p>Individual display frames can be zoomed in or out by dragging the corner in the right-bottom.</p>

<p>A layout may be visualized in full screen, which helps remove distractions.</p>

<h3 id="events">Events</h3>

<p>This section provides a view on Yamcs events. By default only the latest events within the last hour get shown. The view offers ample filter options to change which events are shown. The table is paged to prevent overloading the browser. If you like to see beyond the current page, you can click the button ‘Load More’ at the bottom of the view. Alternatively you can choose to click the ‘Download Data’ button at the top right. This will trigger a download of the events in CSV format. The download will apply the same filter as what is shown in the view.</p>

<p>The Events table can also monitor incoming events on the current processor. Do so by clicking the play button in the top toolbar. You may stop the live streaming at any time by clicking the pause button.</p>

<p>The Events table has a severity filter. This filter allows defining the <b>minimum</b> severity of the event. Events that are more severe than the selected severity will also be shown. By default the severity filter is set to the lowest severity, <tt>Info</tt>, which means that all events will be shown.</p>

<p>With the right privilege, it is possible to manually post an event. You can enter an arbitrary message and assign a severity. The time of the event will by default be set to the current time, but you can override this if preferred. The source of an event created this way will automatically be set to <tt>User</tt> and will contain a <tt>user</tt> attribute indicating your username.</p>

<h3 id="alarms">Alarms</h3>

<p>Shows an overview of the current alarms. Alarms indicate parameters that are out of limits.</p>

<h3 id="commands">Commands</h3>

<p>Shows the latest issued commands.</p>

<h3 id="tm-archive">TM Archive</h3>

<p>This view allows inspecting the content of the TM Archive, as well as retrieving data as packets. Data is grouped by packet name in bands. For each band, index blocks indicate the presence of data at a particular time range. Note that a single index block does not necessarily mean that there was no gap in the data. When zooming in, more gaps may appear.</p>

<p>The view can be panned by grabbing the canvas. For long distances you can jump to a specific location via the <tt>Jump to…</tt> button.</p>

<p>This view shows the current mission time with a vertical locator.</p>

<div class="hint">
<p>While the now locator follows mission time, the rendered blocks do not follow realtime. You can force a refresh by panning the canvas or refreshing your browser window.</p>
</div>

<p>In the top toolbar there are a few actions that only become active once you make a horizontal range selection. To make such a selection you can start a selection on the timescale band. Alternatively you may also select a range by simply clicking an index block. Selecting a range allows you to start a replay for that range, or to download raw packet data.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        MDB
                      
                    </h2>
                    <p>The MDB module within the Yamcs web interface provides a set of views on the Mission Database.</p>

<p>The Monitor Module is always visited for a specific Yamcs instance. The MDB for an instance aggregates the content of the entire MDB loader tree for that instance.</p>

<h3 id="space-systems">Space Systems</h3>

<p>Space systems represent the highest conceptual entity of the MDB. Space systems act like folders and may contain other space systems, parameters, containers and others.</p>

<p>The Space Systems view shows a flat list of all space systems in the MDB. By clicking on one of the entires, you can navigate to a detail view for the space system which shows the parameters, containers, commands and algorithms that directly belong to that space system.</p>

<h3 id="parameters">Parameters</h3>

<p>The Parameters view shows a filterable list of all parameters inside the MDB. If you are searching for a specific parameter but don’t remember the space system this views can help find it quickly.</p>

<p>You can navigate to the detail page of any parameter to see a quick look at its definition, and to see the current realtime value. If the parameter has numeric values, its data can also be rendered on a chart. This chart is updated in realtime. Finally the detail page of a parameter also has a view that allows looking at the exact data points that have been received in a particular time range. This information is presented in a paged view. There is a download option available for downloading data points of the selected time range as a CSV file for offline analysis.</p>

<p>If the parameter is a software parameter, its value can be set via a button in the toolbar.</p>

<h3 id="containers">Containers</h3>

<p>The Containers view shows a filterable list of all containers inside the MDB. The detail page allows seeing the parameter or container entries for this container and offers navigation links for quick access.</p>

<h3 id="commands">Commands</h3>

<p>The Commands view shows a filterable list of all commands inside the MDB. This also includes abstract commands. Non-abstract commands can be issued directly from the detail page of that command. This opens a dynamic dialog window where you can override default arguments and enter missing arguments.</p>

<h3 id="algorithms">Algorithms</h3>

<p>The Algorithms view shows a filterable list of all algorithms inside the MDB. This detail page provides a quick navigation list of all input and output parameters and shows the script for this algorithm.</p>


                    
                    
              
                
                
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                    <h2 class="toc newpage">
                      
                        System
                      
                    </h2>
                    <p>The System module within the Yamcs web interface provides a set of administrative views on Yamcs.</p>

<p>The System Module is always visited for a specific Yamcs instance, although some of the information may be global to Yamcs.</p>

<h3 id="dashboard">Dashboard</h3>

<p>This provides a quick glance at the running system. It shows a quick graph of JVM system parameters and provides some basic server information such as the version number of Yamcs.</p>

<h3 id="links">Links</h3>

<p>Shows a live view of the data links for this instance. Link can be managed directly from this page.</p>

<h3 id="services">Services</h3>

<p>Shows the services for this instance. The lifecycle of these services can be managed directly from this page.</p>

<h3 id="processors">Processors</h3>

<p>Shows a live view of the processors for this instance. This includes both persistent and non-persistent processors. Each processor has a detail page that allows seeing some statistics on the incoming packets, and that provides management controls over the command queues for this processor.</p>

<h3 id="clients">Clients</h3>

<p>Shows the clients connected to this instance.</p>

<h3 id="tables">Tables</h3>

<p>Shows the archive tables for this instance. Each table has a detail page that shows details about its structure and SQL options and that provides a quick view at the raw data records.</p>

<h3 id="streams">Streams</h3>

<p>Shows the streams for this instance. Each stream has a detail page that shows details about its SQL definition.</p>


                    
                    
              
            
          
        </div>
      </div>
    </div>
  </body>
</html>
